<?xml version="1.0" encoding="utf-8"?>

<feed xmlns="http://www.w3.org/2005/Atom">
<title>doc/development/meeting-log</title>
<link href="http://project-renard.github.io//doc/development/meeting-log/"/>
<link href="http://project-renard.github.io//doc/development/meeting-log/index.atom" rel="self" type="application/atom+xml"/>
<author>

<name>Project Renard</name>

</author>




<id>http://project-renard.github.io//doc/development/meeting-log/</id>

<subtitle type="html">Project Renard</subtitle>
<generator uri="http://ikiwiki.info/">ikiwiki</generator>
<updated>2017-09-29T13:06:49Z</updated>
<entry>
	<title>Modularising and splitting Curie</title>

	<id>http://project-renard.github.io//doc/development/meeting-log/posts/2017/09/20/modularising-and-splitting-curie/</id>

	<link href="http://project-renard.github.io//doc/development/meeting-log/posts/2017/09/20/modularising-and-splitting-curie/"/>

	<author><name>zaki</name></author>





	<updated>2017-09-29T13:06:49Z</updated>
	<published>2017-09-21T02:49:08Z</published>


	<content type="html" xml:lang="en">
	&lt;p&gt;In order to make it easier to modify parts of Curie independently and make it
possible to combine the codebase with other modules in new ways, it was
necessary to split Curie into separate modules.&lt;/p&gt;

&lt;p&gt;For example, if we want to create a new Gtk3-based application, then pulling in
a module which contains helper functions for setting up Gtk3 could be shared
amongst all Gtk3-based applications instead of copying the code into each new
application.&lt;/p&gt;

&lt;h2 id=&quot;renamingthequick-and-dirtyway&quot;&gt;Renaming the quick-and-dirty way&lt;/h2&gt;

&lt;p&gt;The first step towards refactoring is renaming the modules that make up Curie.
Since all of the code is placed under the &lt;code&gt;Renard::Curie&lt;/code&gt; namespace, a new
namespace must be created and all the non-Curie specific modules need to be
placed under that. This new namespace is &lt;code&gt;Renard::Incunabula&lt;/code&gt; and the name
changes are specified in the following subsection.&lt;/p&gt;

&lt;h3 id=&quot;packagerenamingbyfinalrepository&quot;&gt;Package renaming by final repository&lt;/h3&gt;

&lt;h4 id=&quot;project-renardp5-renard-incunabula&quot;&gt;project-renard/p5-Renard-Incunabula&lt;/h4&gt;

&lt;p&gt;The &lt;span class=&quot;createlink&quot;&gt;p5-Renard-Incunabula&lt;/span&gt; repository is for common code that all tools
can use. In particular, it contains the common development setup (such as
&lt;a href=&quot;https://p3rl.org/Function::Parameters&quot;&gt;&lt;code&gt;Function::Parameters&lt;/code&gt;&lt;/a&gt;, error types,
and data types) and generic document/page models.&lt;/p&gt;

&lt;table&gt;
&lt;col /&gt;
&lt;col /&gt;
&lt;thead&gt;
&lt;tr&gt;
	&lt;th&gt;Original&lt;/th&gt;
	&lt;th&gt;Renamed&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Setup&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Common::Setup&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Types&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Common::Types&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Error&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Common::Error&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Model::Document&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Document&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Model::Outline&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Outline&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Model::Document::Role::FromFile&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Document::Role::FromFile&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Model::Document::Role::Pageable&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Document::Role::Pageable&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Model::Document::Role::Cacheable&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Document::Role::Cacheable&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Model::Document::Role::Renderable&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Document::Role::Renderable&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Model::Document::Role::Boundable&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Document::Role::Boundable&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Model::Document::Role::Outlineable&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Document::Role::Outlineable&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Model::Page::Role::CairoRenderableFromPNG&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Page::Role::CairoRenderableFromPNG&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Model::Page::Role::Bounds&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Page::Role::Bounds&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Model::Page::Role::BoundsFromCairoImageSurface&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Page::Role::BoundsFromCairoImageSurface&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Model::Page::Role::CairoRenderable&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Page::Role::CairoRenderable&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Model::Page::CairoImageSurface&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Page::CairoImageSurface&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Model::Page::RenderedFromPNG&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Page::RenderedFromPNG&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Model::Document::CairoImageSurface&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Format::Cairo::ImageSurface::Document&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;project-renardp5-renard-incunabula-mupdf-mutool&quot;&gt;project-renard/p5-Renard-Incunabula-MuPDF-mutool&lt;/h4&gt;

&lt;p&gt;The &lt;span class=&quot;createlink&quot;&gt;p5-Renard-Incunabula-MuPDF-mutool&lt;/span&gt; repository wraps the &lt;code&gt;mutool&lt;/code&gt; command line
program from MuPDF in order to retrieve page bounding box information and
to render document pages as PNG images.&lt;/p&gt;

&lt;table&gt;
&lt;col /&gt;
&lt;col /&gt;
&lt;thead&gt;
&lt;tr&gt;
	&lt;th&gt;Original&lt;/th&gt;
	&lt;th&gt;Renamed&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Data::PDF&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::MuPDF::mutool&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;project-renardp5-renard-incunabula-format-pdf&quot;&gt;project-renard/p5-Renard-Incunabula-Format-PDF&lt;/h4&gt;

&lt;p&gt;The &lt;span class=&quot;createlink&quot;&gt;p5-Renard-Incunabula-Format-PDF&lt;/span&gt; repository contains models for
working with PDF files. It currently uses &lt;span class=&quot;createlink&quot;&gt;p5-Renard-Incunabula-MuPDF-mutool&lt;/span&gt;
as the backend, but there are plans to use other backends.&lt;/p&gt;

&lt;table&gt;
&lt;col /&gt;
&lt;col /&gt;
&lt;thead&gt;
&lt;tr&gt;
	&lt;th&gt;Original&lt;/th&gt;
	&lt;th&gt;Renamed&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Model::Document::PDF&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Format::PDF::Document&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Model::Page::PDF&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Format::PDF::Page&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;project-renardp5-renard-incunabula-frontend-gtk3&quot;&gt;project-renard/p5-Renard-Incunabula-Frontend-Gtk3&lt;/h4&gt;

&lt;p&gt;The &lt;span class=&quot;createlink&quot;&gt;p5-Renard-Incunabula-Frontend-Gtk3&lt;/span&gt; repository contains helper
functions (e.g., shims for older versions of the &lt;code&gt;gtk+3&lt;/code&gt; library) and roles
(e.g., loading components from Glade GUI builder XML files) for Gtk3.&lt;/p&gt;

&lt;table&gt;
&lt;col /&gt;
&lt;col /&gt;
&lt;thead&gt;
&lt;tr&gt;
	&lt;th&gt;Original&lt;/th&gt;
	&lt;th&gt;Renamed&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Helper&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Frontend::Gtk3::Helper&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Component::Role::FromBuilder&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Frontend::Gtk3::Component::Role::FromBuilder&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;Renard::Curie::Component::Role::UIFileFromPackageName&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;Renard::Incunabula::Frontend::Gtk3::Component::Role::UIFileFromPackageName&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;creatingthenewrepositories&quot;&gt;Creating the new repositories&lt;/h3&gt;

&lt;p&gt;In order to create new repositories for these files, it is necessary to first
make sure that we only keep the commits in the history that touch those files.
The first step is to create clones of the original &lt;span class=&quot;createlink&quot;&gt;curie&lt;/span&gt; repo for each
of the new repositories. To do so, &lt;code&gt;.nfo&lt;/code&gt; files are created that contain the
information from the above renaming tables. In
&lt;code&gt;project-renard/rename/p5-Renard-Incunabula-Format-PDF.nfo&lt;/code&gt;, this looks like&lt;/p&gt;

&lt;pre&gt;    s,Renard::Curie::Model::Document::PDF,Renard::Incunabula::Format::PDF::Document,
    s,Renard::Curie::Model::Page::PDF,Renard::Incunabula::Format::PDF::Page,&lt;/pre&gt;

&lt;p&gt;Each original package name is listed in a &lt;code&gt;sed(1)&lt;/code&gt; style substitution using
commas as the delimiters (as opposed to the traditional forward-slash since
this conflicts with file paths).&lt;/p&gt;

&lt;p&gt;We then run the following script for each repo in the form &lt;code&gt;./repo-process.sh
p5-Renard-Incunabula-Format-PDF&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;In &lt;code&gt;project-renard/rename/repo-process.sh&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlight-sh&quot;&gt;&lt;pre class=&quot;hl&quot;&gt;    &lt;span class=&quot;hl slc&quot;&gt;#!/bin/sh&lt;/span&gt;

    REPO&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;hl opt&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;-z&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;$REPO&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt; &lt;span class=&quot;hl opt&quot;&gt;] &amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;quot;no repo&amp;quot;&lt;/span&gt; &lt;span class=&quot;hl opt&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;hl num&quot;&gt;1&lt;/span&gt;

    &lt;span class=&quot;hl kwb&quot;&gt;cd&lt;/span&gt; ~&lt;span class=&quot;hl opt&quot;&gt;/&lt;/span&gt;sw_projects&lt;span class=&quot;hl opt&quot;&gt;/&lt;/span&gt;project-renard&lt;span class=&quot;hl opt&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hl kwd&quot;&gt;$REPO&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hl kwd&quot;&gt;$REPO&lt;/span&gt;
    PATHS_TO_KEEP&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;`~/sw_projects/project-renard/rename/files-to-keep.sh ~/sw_projects/project-renard/rename/&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;$REPO&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;.nfo | tr &amp;apos;&lt;/span&gt;&lt;span class=&quot;hl esc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;apos; &amp;apos; &amp;apos;`&lt;/span&gt;
    &lt;span class=&quot;hl kwa&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hl opt&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;$REPO&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt; &lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;quot;p5-Renard-Incunabula&amp;quot;&lt;/span&gt; &lt;span class=&quot;hl opt&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;hl kwa&quot;&gt;then&lt;/span&gt;
        PATHS_TO_KEEP&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;$PATHS_TO_KEEP&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;t/lib/CurieTestHelper.pm&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;hl kwa&quot;&gt;fi&lt;/span&gt;
    &lt;span class=&quot;hl kwb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;hl kwd&quot;&gt;$PATHS_TO_KEEP&lt;/span&gt;
    BRANCH_TO_EXTRACT_FROM&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;apos;master&amp;apos;&lt;/span&gt;

    git filter-branch &lt;span class=&quot;hl kwb&quot;&gt;-f --index-filter&lt;/span&gt; \
        &lt;span class=&quot;hl str&quot;&gt;&amp;quot;git rm --ignore-unmatch --cached -qr -- . &amp;amp;&amp;amp; git reset -q \&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;$GIT_COMMIT&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;hl ipl&quot;&gt;$PATHS_TO_KEEP&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt; \
        &lt;span class=&quot;hl kwb&quot;&gt;--prune-empty --&lt;/span&gt; &lt;span class=&quot;hl kwd&quot;&gt;$BRANCH_TO_EXTRACT_FROM&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In &lt;code&gt;project-renard/rename/files-to-keep.sh&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlight-sh&quot;&gt;&lt;pre class=&quot;hl&quot;&gt;    &lt;span class=&quot;hl slc&quot;&gt;#!/bin/sh&lt;/span&gt;

    FILE_OF_REPLACEMENTS&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;hl kwc&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;-o&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;apos;s,*,&amp;apos;&lt;/span&gt; &lt;span class=&quot;hl kwd&quot;&gt;$FILE_OF_REPLACEMENTS&lt;/span&gt; \
        | &lt;span class=&quot;hl kwc&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;-o&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;apos;Renard*&amp;apos;&lt;/span&gt; \
        | &lt;span class=&quot;hl kwc&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;apos;s,::,/,g&amp;apos;&lt;/span&gt; \
        | &lt;span class=&quot;hl kwc&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;apos;s,\(.*\),lib/\1.pm t/\1.t,&amp;apos;&lt;/span&gt; \
        | &lt;span class=&quot;hl kwc&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;apos;s/ /&lt;/span&gt;&lt;span class=&quot;hl esc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;/&amp;apos;&lt;/span&gt; | &lt;span class=&quot;hl kwc&quot;&gt;sort&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;-u&lt;/span&gt; \
        | &lt;span class=&quot;hl kwc&quot;&gt;xargs&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;-I&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;{}&lt;/span&gt; bash &lt;span class=&quot;hl kwb&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;apos;[ -f &amp;quot;{}&amp;quot; ] &amp;amp;&amp;amp; ls {}&amp;apos;&lt;/span&gt; \
        | &lt;span class=&quot;hl kwc&quot;&gt;xargs&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;-n1&lt;/span&gt; git log &lt;span class=&quot;hl kwb&quot;&gt;--name-only --format&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;format&lt;span class=&quot;hl opt&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;--follow --&lt;/span&gt; \
        | &lt;span class=&quot;hl kwc&quot;&gt;sort&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;-u&lt;/span&gt; | &lt;span class=&quot;hl kwc&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;apos;^$&amp;apos;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;What this does is keep all the git history for the files that are under the
&lt;code&gt;lib/&lt;/code&gt; and &lt;code&gt;t/&lt;/code&gt; directories that refer to that package. So for the line&lt;/p&gt;

&lt;pre&gt;    s,Renard::Curie::Model::Document::PDF,Renard::Incunabula::Format::PDF::Document,&lt;/pre&gt;

&lt;p&gt;it would keep the files &lt;code&gt;lib/Renard/Curie/Model/Document/PDF.pm&lt;/code&gt; and
&lt;code&gt;t/Renard/Curie/Model/Document/PDF.t&lt;/code&gt; and any of the commits that contained
those files or their previous names (by using &lt;code&gt;git log --follow&lt;/code&gt;).&lt;/p&gt;

&lt;h3 id=&quot;renamingthepackages&quot;&gt;Renaming the packages&lt;/h3&gt;

&lt;p&gt;The previous step only moves the files into the new repositories, but does not
rename their contents. The following script changes the contents of
each repository by calling &lt;code&gt;./do-replacements.sh&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;In &lt;code&gt;project-renard/rename/do-replacements.sh&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlight-sh&quot;&gt;&lt;pre class=&quot;hl&quot;&gt;    &lt;span class=&quot;hl slc&quot;&gt;#!/bin/sh&lt;/span&gt;

    DIR_INFO&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;$HOME&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;/sw_projects/project-renard/rename&amp;quot;&lt;/span&gt;
    REPO_DIRS&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;`ls&lt;/span&gt; &lt;span class=&quot;hl ipl&quot;&gt;$DIR_INFO&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;/*.nfo | xargs -n1 basename | sed &amp;apos;s/.nfo$//&amp;apos;`&lt;/span&gt;
    SED_LIBS&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;`cat&lt;/span&gt; &lt;span class=&quot;hl ipl&quot;&gt;$DIR_INFO&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;/*.nfo | awk &amp;apos;{ print length,&lt;/span&gt; &lt;span class=&quot;hl ipl&quot;&gt;$0&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;}&amp;apos;| sort -nr | cut -d&amp;apos; &amp;apos; -f2 | tr &amp;apos;&lt;/span&gt;&lt;span class=&quot;hl esc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;apos; &amp;apos;;&amp;apos;`&lt;/span&gt;
    SED_FILES&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;`echo&lt;/span&gt; &lt;span class=&quot;hl ipl&quot;&gt;$SED_LIBS&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;| sed -e &amp;apos;s,::,/,g&amp;apos;`&lt;/span&gt;

    &lt;span class=&quot;hl slc&quot;&gt;#echo $SED_LIBS&lt;/span&gt;
    &lt;span class=&quot;hl slc&quot;&gt;#echo $SED_FILES&lt;/span&gt;


    &lt;span class=&quot;hl kwa&quot;&gt;for&lt;/span&gt; repo &lt;span class=&quot;hl kwa&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hl kwd&quot;&gt;$REPO_DIRS&lt;/span&gt; curie&lt;span class=&quot;hl opt&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;hl kwa&quot;&gt;do&lt;/span&gt;
        REPO_DIR&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;$HOME&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;/sw_projects/project-renard/&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;$repo&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;$repo&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt;
        REPO_FILES&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;`find&lt;/span&gt; &lt;span class=&quot;hl ipl&quot;&gt;$REPO_DIR&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;/lib&lt;/span&gt; &lt;span class=&quot;hl ipl&quot;&gt;$REPO_DIR&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;/t -type f`&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;;&lt;/span&gt;
        perl &lt;span class=&quot;hl kwb&quot;&gt;-pi -e&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;$SED_LIBS&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt; &lt;span class=&quot;hl kwd&quot;&gt;$REPO_FILES&lt;/span&gt;
        rename &lt;span class=&quot;hl kwb&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;$SED_FILES&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt; &lt;span class=&quot;hl kwd&quot;&gt;$REPO_FILES&lt;/span&gt; \
            | &lt;span class=&quot;hl kwc&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;apos;s,rename(,smv ,&amp;apos;&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;apos;s,)$,,&amp;apos;&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;apos;s/,//&amp;apos;&lt;/span&gt; \
            | sh
    &lt;span class=&quot;hl kwa&quot;&gt;done&lt;/span&gt;

    &lt;span class=&quot;hl kwa&quot;&gt;for&lt;/span&gt; repo &lt;span class=&quot;hl kwa&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hl kwd&quot;&gt;$REPO_DIRS&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;hl kwa&quot;&gt;do&lt;/span&gt;
        REPO_DIR&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;$HOME&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;/sw_projects/project-renard/&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;$repo&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;$repo&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt;
        &lt;span class=&quot;hl kwb&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;hl kwd&quot;&gt;$REPO_DIR&lt;/span&gt;
        git add .
        git tag &lt;span class=&quot;hl kwb&quot;&gt;-d&lt;/span&gt; $&lt;span class=&quot;hl opt&quot;&gt;(&lt;/span&gt;git tag &lt;span class=&quot;hl kwb&quot;&gt;-l&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;hl kwa&quot;&gt;done&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;What this does is take all of the &lt;code&gt;.nfo&lt;/code&gt; files that contain those
substitutions and applies those substitutions in each repository (i.e., the new
repositories and curie). Not only does it apply those substitutions to the
contents of the files, but also to the full paths using the &lt;code&gt;rename(1p)&lt;/code&gt;
command. So the previously mentioned files are renamed as follows:&lt;/p&gt;

&lt;table&gt;
&lt;col /&gt;
&lt;col /&gt;
&lt;thead&gt;
&lt;tr&gt;
	&lt;th&gt;Original&lt;/th&gt;
	&lt;th&gt;Renamed&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;lib/Renard/Curie/Model/Document/PDF.pm&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;lib/Renard/Incunabula/Format/PDF/Document.pm&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
	&lt;td&gt;&lt;code&gt;t/Renard/Curie/Model/Document/PDF.t&lt;/code&gt;&lt;/td&gt;
	&lt;td&gt;&lt;code&gt;t/Renard/Incunabula/Format/PDF/Document.t&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;In addition, for all the new repositories (i.e., not curie), the tags are deleted
since the older release versions do not apply.&lt;/p&gt;

&lt;p&gt;Finally, the package in &lt;code&gt;t/lib/CurieTestHelper.pm&lt;/code&gt; has been turned into the
library package &lt;code&gt;Renard::Incunabula::Devel::TestHelper&lt;/code&gt; in
&lt;span class=&quot;createlink&quot;&gt;p5-Renard-Incunabula&lt;/span&gt;.  This allows it to be shared by the testing code
in all the repositories.&lt;/p&gt;

&lt;h2 id=&quot;trackingdependenciesandotherdevelopermaintenance&quot;&gt;Tracking dependencies and other developer maintenance&lt;/h2&gt;

&lt;p&gt;Since each of the new repositories are starting off without any of the
developer maintenance setup that &lt;span class=&quot;createlink&quot;&gt;curie&lt;/span&gt; has (such as the list of native
dependencies and CI configuration), it is necessary to make sure that they
start off with a basic skeleton. This is contained in the &lt;a href=&quot;https://github.com/project-renard/devops/tree/master/skeleton&quot;&gt;&lt;code&gt;skeleton&lt;/code&gt;&lt;/a&gt;
directory of &lt;span class=&quot;createlink&quot;&gt;devops&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;In particular, the following files are special because they are used to specify
dependencies:&lt;/p&gt;

&lt;h3 id=&quot;cpanfile-git&quot;&gt;cpanfile-git&lt;/h3&gt;

&lt;p&gt;The &lt;code&gt;maint/cpanfile-git&lt;/code&gt; file contains the repository Git URLs and branch
name for any of the other Project Renard dependencies that are needed to
run the code in the current repository. Having this allows for testing
changes in those dependencies by just switching to another branch name. For
example, the &lt;span class=&quot;createlink&quot;&gt;p5-Renard-Incunabula-Frontend-Gtk3&lt;/span&gt; &lt;code&gt;cpanfile-git&lt;/code&gt; file
contains&lt;/p&gt;

&lt;div class=&quot;highlight-perl&quot;&gt;&lt;pre class=&quot;hl&quot;&gt;    requires &lt;span class=&quot;hl str&quot;&gt;&amp;apos;Renard::Incunabula&amp;apos;&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;,&lt;/span&gt;
        git &lt;span class=&quot;hl opt&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;apos;https://github.com/project-renard/p5-Renard-Incunabula.git&amp;apos;&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;,&lt;/span&gt;
        branch &lt;span class=&quot;hl opt&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;apos;master&amp;apos;&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;which means that when building under a CI environment, the
&lt;code&gt;Renard-Incunabula&lt;/code&gt; distribution will be installed from the Git repository
before it is pulled from CPAN. In fact, this approach allowed the tests to
run under the CI environment before all of the dependencies were uploaded to
CPAN as long as the following environment variable was set&lt;/p&gt;

&lt;!-- should be yaml format but highlight plugin needs to be updated --&gt;

&lt;pre&gt;    - export PERL_CPANM_OPT=&quot;--skip-satisfied&quot;&lt;/pre&gt;

&lt;p&gt;so that &lt;code&gt;cpanm&lt;/code&gt; would not exit if the required module was installed but it
could not find the required modules on CPAN.&lt;/p&gt;

&lt;p&gt;In addition to installing the code from source in the CI environment, the
Git repository provides a commit SHA that can be used to decide whether to
reinstall from source or keep the version that was previously installed at
that SHA. This allows for shorter CI runs because modules that take a while
to build such as &lt;span class=&quot;createlink&quot;&gt;p5-Alien-MuPDF&lt;/span&gt; do not need to be rebuilt.&lt;/p&gt;

&lt;h3 id=&quot;devops.yml&quot;&gt;devops.yml&lt;/h3&gt;

&lt;p&gt;The &lt;code&gt;maint/devops.yml&lt;/code&gt; file specifies the native dependencies that are
needed to run the code in the current repository. For
example, the &lt;span class=&quot;createlink&quot;&gt;p5-Renard-Incunabula-Frontend-Gtk3&lt;/span&gt; &lt;code&gt;devops.yml&lt;/code&gt; file
contains&lt;/p&gt;

&lt;!-- should be yaml format but highlight plugin needs to be updated --&gt;

&lt;pre&gt;    ---
    native:
      debian:
        packages:
          - pkg-config
          - libgirepository1.0-dev
          - gobject-introspection
          - libgtk-3-dev
      macos-homebrew:
        packages:
          - gtk+3
          - gtk-mac-integration
          - gnome-icon-theme
      msys2-mingw64:
        packages:
          - mingw-w64-x86_64-perl
          - mingw-w64-x86_64-gobject-introspection
          - mingw-w64-x86_64-cairo
          - mingw-w64-x86_64-gtk3&lt;/pre&gt;

&lt;p&gt;which specifies all the &lt;code&gt;gtk+3&lt;/code&gt; packages needed by that repository. This is
used to install each module from source so it is not necessary to repeat the
native dependencies of each of the repositories specified in &lt;code&gt;cpanfile-git&lt;/code&gt;
since the &lt;code&gt;devops.yml&lt;/code&gt; files of those repositories will specify what they need.&lt;/p&gt;

&lt;h1 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h1&gt;

&lt;p&gt;Moving the code into separate repositories has not yet been used to create new
applications, but it has made library code more modular and opened the way for
more flexible approaches such as the ability to incorporate multiple rendering
backends for a given file type such as PDF.&lt;/p&gt;

&lt;p&gt;While the refactoring code is not the cleanest approach, it does cover all the
needs for this job. It may need to be revisited later to make a more
general-purpose tool.&lt;/p&gt;

	</content>



</entry>
<entry>
	<title>Catching up with milestones</title>

	<id>http://project-renard.github.io//doc/development/meeting-log/posts/2017/05/13/catching-up-with-milestones/</id>

	<link href="http://project-renard.github.io//doc/development/meeting-log/posts/2017/05/13/catching-up-with-milestones/"/>





	<updated>2017-05-13T20:58:42Z</updated>
	<published>2017-05-13T18:00:00Z</published>


	<content type="html" xml:lang="en">
	&lt;p&gt;&lt;a href=&quot;https://www.timeanddate.com/worldclock/fixedtime.html?iso=20170513T180000&quot;&gt;Meeting time&lt;/a&gt;.&lt;/p&gt;

&lt;h1 id=&quot;agenda&quot;&gt;Agenda&lt;/h1&gt;

&lt;h2 id=&quot;curie&quot;&gt;Curie&lt;/h2&gt;

&lt;h3 id=&quot;releasecuriev0.002&quot;&gt;Release Curie v0.002&lt;/h3&gt;

&lt;p&gt;The release of &lt;a href=&quot;https://github.com/project-renard/curie/milestone/6&quot;&gt;Curie v0.002&lt;/a&gt; is coming up
(&lt;a href=&quot;https://waffle.io/project-renard/roadmap?milestone=curie%20v0.002&quot;&gt;Waffle board&lt;/a&gt;,
&lt;a href=&quot;https://waffle.io/project-renard/roadmap/metrics/burndown?milestone=curie%20v0.002&quot;&gt;Waffle burndown&lt;/a&gt;).
The following is a summary of what needs to be done to finish up this release
as a continuation of the &lt;a href=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/12/20/curie-v0.002-development-update/&quot;&gt;previous meeting log&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;tasksinprogress&quot;&gt;Tasks in progress&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Feature&lt;/strong&gt;:
The user should be able to drag-and drop files onto the Curie workspace in order to open them
(&lt;a href=&quot;https://github.com/project-renard/curie/issues/19&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/19&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/19.svg&quot;/&gt;
&lt;/a&gt;
,
&lt;a href=&quot;https://github.com/project-renard/curie/pull/170&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/170&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/170.svg&quot;/&gt;
&lt;/a&gt;
).&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;tasksremaining&quot;&gt;Tasks remaining&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Before release&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Summarise the changes to Curie made since v0.001_01:
&lt;ul&gt;
&lt;li&gt;Commits &lt;a href=&quot;https://github.com/project-renard/curie/compare/v0.001_01...master&quot;&gt;v0.001_01..master&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;After release&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Update &lt;a href=&quot;https://github.com/project-renard/homebrew-project-renard&quot;&gt;homebrew formula&lt;/a&gt; to Curie v0.002.&lt;/li&gt;
&lt;li&gt;Update &lt;a href=&quot;https://github.com/project-renard/release&quot;&gt;release submodule&lt;/a&gt; to Curie v0.002.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;releasecuriev0.003&quot;&gt;Release Curie v0.003&lt;/h3&gt;

&lt;p&gt;The &lt;a href=&quot;https://github.com/project-renard/curie/milestone/2&quot;&gt;Curie v0.003&lt;/a&gt;
milestone&#39;s tasks will be finished by Zaki since it requires a number of
refactoring steps that need to be done in one go.&lt;/p&gt;

&lt;h4 id=&quot;tasksinprogress&quot;&gt;Tasks in progress&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Refactoring&lt;/strong&gt; Add method to check for valid pages:
&lt;a href=&quot;https://github.com/project-renard/curie/issues/179&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/179&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/179.svg&quot;/&gt;
&lt;/a&gt;
,
&lt;a href=&quot;https://github.com/project-renard/curie/pull/195&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/195&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/195.svg&quot;/&gt;
&lt;/a&gt;
.
This simplifies the code for jumping to a page using the text
input.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Bug&lt;/strong&gt; Zooming causes two calls to draw callback which makes the
page translate as the drawing area widget is resized:
&lt;a href=&quot;https://github.com/project-renard/curie/issues/197&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/197&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/197.svg&quot;/&gt;
&lt;/a&gt;
.
This will be fixed wit the refactoring of page views task since
it separates the page layout (and subsequent widget resizing)
from the drawing of the pages to the drawing area.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Feature&lt;/strong&gt; Add opened documents to the Gtk3::RecentManager:
&lt;a href=&quot;https://github.com/project-renard/curie/issues/192&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/192&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/192.svg&quot;/&gt;
&lt;/a&gt;
,
&lt;a href=&quot;https://github.com/project-renard/curie/pull/193&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/193&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/193.svg&quot;/&gt;
&lt;/a&gt;
.
Whenever a file is opened, it needs to be added to the recent
manager so that a log is kept of when it was last opened.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Refactoring&lt;/strong&gt; Refactor the page views:
&lt;a href=&quot;https://github.com/project-renard/curie/issues/150&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/150&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/150.svg&quot;/&gt;
&lt;/a&gt;
,
&lt;a href=&quot;https://github.com/project-renard/curie/pull/194&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/194&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/194.svg&quot;/&gt;
&lt;/a&gt;
.
Some discussion of the design is available at
&lt;a href=&quot;http://project-renard.github.io//doc/design/interaction/&quot;&gt;interaction&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;tasksremaining&quot;&gt;Tasks remaining&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Feature&lt;/strong&gt; Handle exceptions in the Glib main loop:
&lt;a href=&quot;https://github.com/project-renard/curie/issues/180&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/180&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/180.svg&quot;/&gt;
&lt;/a&gt;
.
Instead of skipping the exceptions that are thrown, they need to
be displayed to the user. The first attempt at this could be by
using a popup message box.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Feature&lt;/strong&gt; Dual page display:
&lt;a href=&quot;https://github.com/project-renard/curie/issues/94&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/94&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/94.svg&quot;/&gt;
&lt;/a&gt;
.
This displays two pages side-by-side. Once the refactoring part
is done, this will be simple to implement. The main change will
be setting up the option in the menu-bar.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Refactoring&lt;/strong&gt; Split out PDF data model to separate package:
&lt;a href=&quot;https://github.com/project-renard/curie/issues/26&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/26&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/26.svg&quot;/&gt;
&lt;/a&gt;
.
This is more of a release engineering task since it will require
pulling modules from multiple repositories. The proposal on how
to do this will be described in that section.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;releasecuriev0.004&quot;&gt;Release Curie v0.004&lt;/h3&gt;

&lt;p&gt;The tasks of the &lt;a href=&quot;https://github.com/project-renard/curie/milestone/3&quot;&gt;Curie v0.004&lt;/a&gt;
milestone will be completed in parallel with the Curie v0.003
milestone.&lt;/p&gt;

&lt;h4 id=&quot;tasksremaining&quot;&gt;Tasks remaining&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;GUI shell changes&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Feature&lt;/strong&gt; Presentation mode
&lt;a href=&quot;https://github.com/project-renard/curie/issues/36&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/36&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/36.svg&quot;/&gt;
&lt;/a&gt;
.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Feature&lt;/strong&gt; macOS: Ensure that the application menu is at the top bar
&lt;a href=&quot;https://github.com/project-renard/curie/issues/160&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/160&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/160.svg&quot;/&gt;
&lt;/a&gt;
.&lt;/li&gt;
&lt;li&gt;Gather feedback on GUI &lt;a href=&quot;https://github.com/project-renard/curie/issues/123&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/123&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/123.svg&quot;/&gt;
&lt;/a&gt;
.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;PDF metadata&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Feature&lt;/strong&gt; Add a widget/dialog to show PDF metadata
&lt;a href=&quot;https://github.com/project-renard/curie/issues/13&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/13&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/13.svg&quot;/&gt;
&lt;/a&gt;
.
A quick-and-dirty approach is to run
&lt;code&gt;
mutool show &amp;#036;PDF &amp;#036;(mutool show &amp;#036;PDF grep | grep Author | cut -d: -f2)
&lt;/code&gt;
and we might also want to replicate all the info in &lt;code&gt;pdfinfo &amp;#036;PDF&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;PDF text data
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Feature&lt;/strong&gt; Display text data of PDF as plain text &lt;a href=&quot;https://github.com/project-renard/curie/issues/17&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/17&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/17.svg&quot;/&gt;
&lt;/a&gt;
.
This can be accomplised by using &lt;code&gt;mutool draw -F text&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Feature&lt;/strong&gt;  Use ParsCit on the plain text:
&lt;a href=&quot;https://github.com/project-renard/curie/issues/76&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/76&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/76.svg&quot;/&gt;
&lt;/a&gt;
.
This will require creating &lt;a href=&quot;https://github.com/project-renard/p5-Alien-ParsCit&quot;&gt;&lt;code&gt;Alien::ParsCit&lt;/code&gt;&lt;/a&gt; to install the
ParsCit tool.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;PDF HTML data&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;PDF hyperlinks &lt;a href=&quot;https://github.com/project-renard/curie/issues/79&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/79&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/79.svg&quot;/&gt;
&lt;/a&gt;
.
An example of how to do this is to run the file
&lt;a href=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2017/05/13/gfx/page-links.js&quot;&gt;page-links.js&lt;/a&gt; using &lt;code&gt;mutool run&lt;/code&gt;.
To get the correct ouput requires &lt;a href=&quot;https://bugs.ghostscript.com/show_bug.cgi?id=697898&quot;&gt;this patch&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Display text data of PDF as HTML &lt;a href=&quot;https://github.com/project-renard/curie/issues/18&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/18&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/18.svg&quot;/&gt;
&lt;/a&gt;
.
This can be accomplised by using &lt;code&gt;mutool draw -F html&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tasks that require Curie v0.003 milestone completion&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Feature&lt;/strong&gt; Rotate page: &lt;a href=&quot;https://github.com/project-renard/curie/issues/16&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/16&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/16.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Feature&lt;/strong&gt; Outline should handle PDF page coordinates: &lt;a href=&quot;https://github.com/project-renard/curie/issues/149&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/149&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/149.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;mupdf&quot;&gt;MuPDF&lt;/h2&gt;

&lt;h3 id=&quot;tasksdone&quot;&gt;Tasks done&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Refactoring&lt;/strong&gt; Alien::MuPDF has been switched over to using &lt;code&gt;alienfile&lt;/code&gt;:
&lt;a href=&quot;https://github.com/project-renard/p5-Alien-MuPDF/issues/31&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/p5-Alien-MuPDF/issues/31&quot; src=&quot;https://github-shields.com/github/project-renard/p5-Alien-MuPDF/issues/31.svg&quot;/&gt;
&lt;/a&gt;
, &lt;a href=&quot;https://github.com/project-renard/p5-Alien-MuPDF/pull/34&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/p5-Alien-MuPDF/pull/34&quot; src=&quot;https://github-shields.com/github/project-renard/p5-Alien-MuPDF/pull/34.svg&quot;/&gt;
&lt;/a&gt;
.
Testing in &lt;a href=&quot;https://metacpan.org/release/ZMUGHAL/Alien-MuPDF-0.007_02&quot;&gt;Alien::MuPDF v0.007_02&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Bug&lt;/strong&gt; Alien::MuPDF FreeBSD specific patch is removed since mupdf-1.11 removed the effected file:
&lt;a href=&quot;https://github.com/project-renard/p5-Alien-MuPDF/issues/32&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/p5-Alien-MuPDF/issues/32&quot; src=&quot;https://github-shields.com/github/project-renard/p5-Alien-MuPDF/issues/32.svg&quot;/&gt;
&lt;/a&gt;
, &lt;a href=&quot;https://github.com/project-renard/p5-Alien-MuPDF/pull/33&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/p5-Alien-MuPDF/pull/33&quot; src=&quot;https://github-shields.com/github/project-renard/p5-Alien-MuPDF/pull/33.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Testing in &lt;a href=&quot;https://metacpan.org/release/ZMUGHAL/Alien-MuPDF-0.007_01&quot;&gt;Alien::MuPDF v0.007_01&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Feature&lt;/strong&gt; Compile MuPDF so that it can be linked into a shared library (e.g., with XS) by setting &lt;code&gt;XCFLAGS=-fPIC&lt;/code&gt;.
&lt;a href=&quot;https://github.com/project-renard/p5-Alien-MuPDF/issues/24&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/p5-Alien-MuPDF/issues/24&quot; src=&quot;https://github-shields.com/github/project-renard/p5-Alien-MuPDF/issues/24.svg&quot;/&gt;
&lt;/a&gt;
, &lt;a href=&quot;https://github.com/project-renard/p5-Alien-MuPDF/pull/25&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/p5-Alien-MuPDF/pull/25&quot; src=&quot;https://github-shields.com/github/project-renard/p5-Alien-MuPDF/pull/25.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Testing in &lt;a href=&quot;https://metacpan.org/release/ZMUGHAL/Alien-MuPDF-0.007_01&quot;&gt;Alien::MuPDF v0.007_01&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;tasksinprogress&quot;&gt;Tasks in progress&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Feature&lt;/strong&gt; Start of MuPDF bindings using Inline::C: &lt;a href=&quot;https://github.com/project-renard/p5-Renard-Incunabula-MuPDF-Inline/pull/2&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/p5-Renard-Incunabula-MuPDF-Inline/pull/2&quot; src=&quot;https://github-shields.com/github/project-renard/p5-Renard-Incunabula-MuPDF-Inline/pull/2.svg&quot;/&gt;
&lt;/a&gt;
.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;releaseengineering&quot;&gt;Release engineering&lt;/h2&gt;

&lt;h3 id=&quot;tasksdone&quot;&gt;Tasks done&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Bug&lt;/strong&gt; Fix issue with Devel::Cover and Type::Tiny by switching the constant deparsing that Devel::Cover uses to B::Deparse.
See &lt;a href=&quot;https://github.com/project-renard/devops/commit/ff97e4bcd037e1c973ad098c85923a95ee686105&quot;&gt;commit&lt;/a&gt;
and discussion at &lt;a href=&quot;https://github.com/pjcj/Devel--Cover/issues/164&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;pjcj/Devel--Cover/issues/164&quot; src=&quot;https://github-shields.com/github/pjcj/Devel--Cover/issues/164.svg&quot;/&gt;
&lt;/a&gt;
.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;tasksremaining&quot;&gt;Tasks remaining&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Custom theme should be included in the release: see notes at &lt;a href=&quot;https://github.com/project-renard/curie/issues/32&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/32&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/32.svg&quot;/&gt;
&lt;/a&gt;
.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Simplify the CI installation and release building by converting
from shell-scripts to Perl. A proposal on how this should be
organised will come later.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

	</content>



</entry>
<entry>
	<title>Curie v0.002 development update</title>

	<id>http://project-renard.github.io//doc/development/meeting-log/posts/2016/12/20/curie-v0.002-development-update/</id>

	<link href="http://project-renard.github.io//doc/development/meeting-log/posts/2016/12/20/curie-v0.002-development-update/"/>

	<author><name>zaki</name></author>





	<updated>2016-12-21T17:05:00Z</updated>
	<published>2016-12-20T23:57:59Z</published>


	<content type="html" xml:lang="en">
	&lt;p&gt;&lt;style&gt;
.sshot {
  width: 400px;
  height: auto;
}
&lt;/style&gt;&lt;/p&gt;

&lt;p&gt;Work on the next release of Curie is continuing. This report covers what has
been completed and the tasks that still remain before it can be released:&lt;/p&gt;

&lt;h1 id=&quot;taskscompleted&quot;&gt;Tasks completed&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Feature&lt;/strong&gt;:
Added a menu for choosing the zoom level for the current document
(&lt;a href=&quot;https://github.com/project-renard/curie/issues/14&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/14&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/14.svg&quot;/&gt;
&lt;/a&gt;
, &lt;a href=&quot;https://github.com/project-renard/curie/pull/161&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/161&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/161.svg&quot;/&gt;
&lt;/a&gt;
).
This is available in &lt;a href=&quot;https://metacpan.org/release/ZMUGHAL/Renard-Curie-0.001_01&quot;&gt;&lt;code&gt;Renard::Curie v0.001_01&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/12/20/gfx/zoom-level-menu.gif&quot;&gt;&lt;img src=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/12/20/gfx/zoom-level-menu.gif&quot; width=&quot;1064&quot; height=&quot;860&quot; class=&quot;sshot&quot; /&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Feature&lt;/strong&gt;:
Using the &lt;code&gt;--version&lt;/code&gt; command line argument prints out the version number so
that it is possible to check that Curie is installed properly without running
the full GUI. This is available in &lt;a href=&quot;https://metacpan.org/release/ZMUGHAL/Renard-Curie-0.001_01&quot;&gt;&lt;code&gt;Renard::Curie v0.001_01&lt;/code&gt;&lt;/a&gt;
(&lt;a href=&quot;https://github.com/project-renard/curie/issues/157&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/157&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/157.svg&quot;/&gt;
&lt;/a&gt;
, &lt;a href=&quot;https://github.com/project-renard/curie/pull/159&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/159&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/159.svg&quot;/&gt;
&lt;/a&gt;
).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Build&lt;/strong&gt;:
Using the &lt;a href=&quot;https://github.com/theory/homebrew-sqitch&quot;&gt;&lt;code&gt;homebrew-sqitch&lt;/code&gt;&lt;/a&gt; tap as a template,
a tap for installing a Curie and its dependencies was created at
&lt;a href=&quot;https://github.com/project-renard/homebrew-project-renard&quot;&gt;&lt;code&gt;homebrew-project-renard&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To use it, you must run&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;#036; brew tap project-renard/project-renard
# installs the latest stable release of curie:
&amp;#036; brew install curie
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Or if you would like to get the latest changes:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# installs curie from the master branch
&amp;#036; brew install curie --HEAD
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;(&lt;a href=&quot;https://github.com/project-renard/homebrew-project-renard/issues/1&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/homebrew-project-renard/issues/1&quot; src=&quot;https://github-shields.com/github/project-renard/homebrew-project-renard/issues/1.svg&quot;/&gt;
&lt;/a&gt;
,
&lt;a href=&quot;https://github.com/project-renard/homebrew-project-renard/pull/2&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/homebrew-project-renard/pull/2&quot; src=&quot;https://github-shields.com/github/project-renard/homebrew-project-renard/pull/2.svg&quot;/&gt;
&lt;/a&gt;
,
&lt;a href=&quot;https://github.com/project-renard/homebrew-project-renard/issues/3&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/homebrew-project-renard/issues/3&quot; src=&quot;https://github-shields.com/github/project-renard/homebrew-project-renard/issues/3.svg&quot;/&gt;
&lt;/a&gt;
,
&lt;a href=&quot;https://github.com/project-renard/homebrew-project-renard/pull/4&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/homebrew-project-renard/pull/4&quot; src=&quot;https://github-shields.com/github/project-renard/homebrew-project-renard/pull/4.svg&quot;/&gt;
&lt;/a&gt;
,
&lt;a href=&quot;https://github.com/project-renard/homebrew-project-renard/issues/5&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/homebrew-project-renard/issues/5&quot; src=&quot;https://github-shields.com/github/project-renard/homebrew-project-renard/issues/5.svg&quot;/&gt;
&lt;/a&gt;
,
&lt;a href=&quot;https://github.com/project-renard/homebrew-project-renard/issues/6&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/homebrew-project-renard/issues/6&quot; src=&quot;https://github-shields.com/github/project-renard/homebrew-project-renard/issues/6.svg&quot;/&gt;
&lt;/a&gt;
,
&lt;a href=&quot;https://github.com/project-renard/homebrew-project-renard/issues/7&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/homebrew-project-renard/issues/7&quot; src=&quot;https://github-shields.com/github/project-renard/homebrew-project-renard/issues/7.svg&quot;/&gt;
&lt;/a&gt;
,
&lt;a href=&quot;https://github.com/project-renard/homebrew-project-renard/pull/8&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/homebrew-project-renard/pull/8&quot; src=&quot;https://github-shields.com/github/project-renard/homebrew-project-renard/pull/8.svg&quot;/&gt;
&lt;/a&gt;
,
&lt;a href=&quot;https://github.com/project-renard/homebrew-project-renard/pull/10&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/homebrew-project-renard/pull/10&quot; src=&quot;https://github-shields.com/github/project-renard/homebrew-project-renard/pull/10.svg&quot;/&gt;
&lt;/a&gt;
)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Build&lt;/strong&gt;:
Remove extra Homebrew dependencies so that the Travis-CI build does not install anything that isn&#39;t needed
(&lt;a href=&quot;https://github.com/project-renard/curie/pull/162&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/162&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/162.svg&quot;/&gt;
&lt;/a&gt;
).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Fix&lt;/strong&gt;:
Only use the &lt;code&gt;monospace&lt;/code&gt; property on newer versions of Gtk+ since it does not
exist on Gtk+ &amp;lt; v3.16 (&lt;a href=&quot;https://github.com/project-renard/curie/pull/163&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/163&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/163.svg&quot;/&gt;
&lt;/a&gt;
).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Fix&lt;/strong&gt;:
Fix the &lt;code&gt;Alien::MuPDF&lt;/code&gt; tests so that &lt;code&gt;MuPDF v1.10&lt;/code&gt; can be installed.
This is available in &lt;a href=&quot;https://metacpan.org/release/ZMUGHAL/Alien-MuPDF-0.007&quot;&gt;&lt;code&gt;Alien::MuPDF v0.007&lt;/code&gt;&lt;/a&gt;
(&lt;a href=&quot;https://github.com/project-renard/p5-Alien-MuPDF/issues/22&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/p5-Alien-MuPDF/issues/22&quot; src=&quot;https://github-shields.com/github/project-renard/p5-Alien-MuPDF/issues/22.svg&quot;/&gt;
&lt;/a&gt;
, &lt;a href=&quot;https://github.com/project-renard/p5-Alien-MuPDF/pull/23&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/p5-Alien-MuPDF/pull/23&quot; src=&quot;https://github-shields.com/github/project-renard/p5-Alien-MuPDF/pull/23.svg&quot;/&gt;
&lt;/a&gt;
).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Fix&lt;/strong&gt;:
The release of &lt;code&gt;MuPDF v1.10&lt;/code&gt; changed the format of the PDF outline output for the &lt;code&gt;mutool&lt;/code&gt; utility.
Curie needed to updated to take this change into account
(&lt;a href=&quot;https://github.com/project-renard/curie/issues/172&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/172&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/172.svg&quot;/&gt;
&lt;/a&gt;
, &lt;a href=&quot;https://github.com/project-renard/curie/pull/173&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/173&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/173.svg&quot;/&gt;
&lt;/a&gt;
).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Feature&lt;/strong&gt;:
Add a flag &lt;code&gt;--short-version&lt;/code&gt; that only prints out the version of Curie. This
is so that it is easy for other tools to get the installed version without
having to parse it out
(&lt;a href=&quot;https://github.com/project-renard/curie/issues/174&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/174&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/174.svg&quot;/&gt;
&lt;/a&gt;
, &lt;a href=&quot;https://github.com/project-renard/curie/pull/175&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/175&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/175.svg&quot;/&gt;
&lt;/a&gt;
).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;tasksinprogress&quot;&gt;Tasks in progress&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Feature&lt;/strong&gt;:
The user should be able to drag-and drop files onto the Curie workspace in order to open them
(&lt;a href=&quot;https://github.com/project-renard/curie/issues/19&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/19&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/19.svg&quot;/&gt;
&lt;/a&gt;
,
&lt;a href=&quot;https://github.com/project-renard/curie/pull/170&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/170&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/170.svg&quot;/&gt;
&lt;/a&gt;
).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Feature&lt;/strong&gt;:
The user should be able to set the zoom level for the current document by using
&lt;code&gt;Ctrl+Scrollwheel&lt;/code&gt;:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Ctrl+Scroll Up&lt;/code&gt; should zoom in&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+Scroll Down&lt;/code&gt; should zoom out&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;(&lt;a href=&quot;https://github.com/project-renard/curie/issues/15&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/15&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/15.svg&quot;/&gt;
&lt;/a&gt;
,
&lt;a href=&quot;https://github.com/project-renard/curie/pull/171&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/171&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/171.svg&quot;/&gt;
&lt;/a&gt;
).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Build&lt;/strong&gt;:
The user should be able to install on macOS by opening a &lt;code&gt;.dmg&lt;/code&gt; file and
dragging the &lt;code&gt;Project-Renard.app&lt;/code&gt; into the &lt;code&gt;Applications&lt;/code&gt; folder
(&lt;a href=&quot;https://github.com/project-renard/release/issues/6&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/release/issues/6&quot; src=&quot;https://github-shields.com/github/project-renard/release/issues/6.svg&quot;/&gt;
&lt;/a&gt;
,
&lt;a href=&quot;https://github.com/project-renard/curie/issues/102&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/102&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/102.svg&quot;/&gt;
&lt;/a&gt;
).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;tasksremaining&quot;&gt;Tasks remaining&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Build&lt;/strong&gt;:
Place the Gtk+ icons and theme in the appropriate folders for the build so
that they can be used by Curie
(&lt;a href=&quot;https://github.com/project-renard/curie/issues/32&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/32&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/32.svg&quot;/&gt;
&lt;/a&gt;
).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Feature&lt;/strong&gt;:
Switch to using a native FileChooserDialog so that the interface is consistent
on all platforms
(&lt;a href=&quot;https://github.com/project-renard/curie/issues/166&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/166&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/166.svg&quot;/&gt;
&lt;/a&gt;
).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

	</content>



</entry>
<entry>
	<title>Interface design meeting</title>

	<id>http://project-renard.github.io//doc/development/meeting-log/posts/2016/05/28/interface-design/</id>

	<link href="http://project-renard.github.io//doc/development/meeting-log/posts/2016/05/28/interface-design/"/>





	<updated>2017-05-02T19:41:09Z</updated>
	<published>2016-05-28T02:46:43Z</published>


	<content type="html" xml:lang="en">
	&lt;h2 id=&quot;interface&quot;&gt;Interface&lt;/h2&gt;

&lt;h3 id=&quot;reviewthecurrentone&quot;&gt;Review the current one&lt;/h3&gt;

&lt;p&gt;Zaki: Menu works on branch : &lt;a href=&quot;https://github.com/project-renard/curie/pull/89&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/89&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/89.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Chirag: Continuing work on the keybindings: &lt;a href=&quot;https://github.com/project-renard/curie/pull/52&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/52&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/52.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Stan: Status bar: move to another milestone: &lt;a href=&quot;https://github.com/project-renard/curie/pull/53&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/53&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/53.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;nextsteps&quot;&gt;Next steps&lt;/h3&gt;

&lt;p&gt;Stan: Drag and drop &lt;a href=&quot;https://github.com/project-renard/curie/issues/19&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/19&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/19.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Chirag: documentation &lt;a href=&quot;https://github.com/project-renard/curie/pull/98&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/98&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/98.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Zaki: Split out general code from the menu PR :  &lt;a href=&quot;https://github.com/project-renard/curie/pull/89&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/89&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/89.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Stan: GTK icon and color theming: &lt;a href=&quot;https://github.com/project-renard/curie/issues/32&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/32&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/32.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;devops&quot;&gt;Devops&lt;/h2&gt;

&lt;h3 id=&quot;vagrantontravis-ci&quot;&gt;Vagrant on Travis-CI&lt;/h3&gt;

&lt;p&gt;Newer GTK+&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/project-renard/devops/issues/14&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/devops/issues/14&quot; src=&quot;https://github-shields.com/github/project-renard/devops/issues/14.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;addingsupportformac&quot;&gt;Adding support for Mac&lt;/h3&gt;

&lt;p&gt;Chirag: tried to run on Mac natively (with XQuartz for the display and homebrew to install), but keybindings did not work. Will address with the keybindings pull request.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/project-renard/curie/pull/52&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/52&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/52.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;windowsinstaller&quot;&gt;Windows installer&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://metacpan.org/pod/Perl::Dist::WiX&quot;&gt;https://metacpan.org/pod/Perl::Dist::WiX&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wixtoolset.org/&quot;&gt;http://wixtoolset.org/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/project-renard/curie/issues/1#issuecomment-221646498&quot;&gt;https://github.com/project-renard/curie/issues/1#issuecomment-221646498&lt;/a&gt;&lt;/p&gt;

	</content>



</entry>
<entry>
	<title>Windows build with MSYS2: locally and on Appveyor</title>

	<id>http://project-renard.github.io//doc/development/meeting-log/posts/2016/05/03/windows-build-with-msys2/</id>

	<link href="http://project-renard.github.io//doc/development/meeting-log/posts/2016/05/03/windows-build-with-msys2/"/>

	<author><name>zaki</name></author>





	<updated>2017-05-02T19:41:09Z</updated>
	<published>2016-05-03T03:47:24Z</published>


	<content type="html" xml:lang="en">
	&lt;p&gt;In order to build &lt;a href=&quot;https://github.com/project-renard/curie&quot;&gt;curie&lt;/a&gt; on Windows&lt;a href=&quot;http://project-renard.github.io//doc/development/meeting-log/#fn:portability&quot; id=&quot;fnref:portability&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;,
we need to build the various Perl dependencies. These Perl dependencies in turn
require native libraries such as Gtk+ 3 and MuPDF. Using the MSYS2 package manager, we
can install the native libraries and link against them.&lt;/p&gt;

&lt;p&gt;The following steps show how to install the dependencies along with how I ended
up debugging the build. I&#39;m writing out this post in case the debugging steps
are useful months later when I forget how or why I did things.&lt;/p&gt;

&lt;p&gt;The following will be assuming 64-bit Windows (x86-64
architecture) throughout.&lt;/p&gt;

&lt;p&gt;For those who just want to see the final code, go to the PR
&lt;a href=&quot;https://github.com/project-renard/curie/pull/86&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;buildinglocally&quot;&gt;Building locally&lt;/h2&gt;

&lt;ol&gt;

&lt;li&gt;
   &lt;p&gt;
   Install &lt;a href=&quot;https://msys2.github.io/&quot;&gt;MSYS2&lt;/a&gt;. This is a straightforward install
   into the &lt;code&gt;C:\msys64&lt;/code&gt; directory.
   &lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;
   &lt;p&gt;
   Start the &quot;MinGW-w64 Win64 Shell&quot; from the Start Menu. This shell sets up
   the proper environment variables needed to use 64-bit libraries for the
   MinGW64 system.
   &lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;
   &lt;p&gt;
   Use the &lt;a href=&quot;https://www.archlinux.org/pacman/pacman.8.html&quot;&gt;pacman&lt;/a&gt; package
   manager to update the package database and install the build toolchain.
   &lt;/p&gt;

   &lt;p&gt;
   &lt;div class=&quot;highlight-sh&quot;&gt;&lt;pre class=&quot;hl&quot;&gt;   pacman &lt;span class=&quot;hl kwb&quot;&gt;-Syu&lt;/span&gt;  &lt;span class=&quot;hl slc&quot;&gt;# update&lt;/span&gt;

   &lt;span class=&quot;hl slc&quot;&gt;# Install compiler and build configuration tools&lt;/span&gt;
   pacman &lt;span class=&quot;hl kwb&quot;&gt;-S --needed --noconfirm&lt;/span&gt; mingw-w64-x86_64-toolchain autoconf automake libtool &lt;span class=&quot;hl kwc&quot;&gt;make patch&lt;/span&gt; mingw-w64-x86_64-libtool

&lt;/pre&gt;&lt;/div&gt;
   &lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;
   &lt;p&gt;
   Install the native dependencies.
   &lt;/p&gt;

   &lt;p&gt;
   &lt;div class=&quot;highlight-sh&quot;&gt;&lt;pre class=&quot;hl&quot;&gt;   pacman &lt;span class=&quot;hl kwb&quot;&gt;-S --needed --noconfirm&lt;/span&gt; \
       mingw-w64-x86_64-gobject-introspection \
       mingw-w64-x86_64-cairo \
       mingw-w64-x86_64-gtk3 \
       mingw-w64-x86_64-expat \
       mingw-w64-x86_64-openssl

&lt;/pre&gt;&lt;/div&gt;
   &lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;
   &lt;p&gt;
       Install Perl and cpanm
   &lt;/p&gt;

   &lt;p&gt;
   &lt;div class=&quot;highlight-sh&quot;&gt;&lt;pre class=&quot;hl&quot;&gt;   pacman &lt;span class=&quot;hl kwb&quot;&gt;-S --needed --noconfirm&lt;/span&gt; mingw-w64-x86_64-perl
   &lt;span class=&quot;hl kwc&quot;&gt;yes&lt;/span&gt; | cpan App&lt;span class=&quot;hl opt&quot;&gt;::&lt;/span&gt;cpanminus

&lt;/pre&gt;&lt;/div&gt;
   &lt;/p&gt;

   &lt;p&gt;
   However, we ecounter a problem with this last command.
   &lt;/p&gt;

   &lt;p&gt;
   &lt;pre&gt;   Configuring M/MI/MIYAGAWA/App-cpanminus-1.7040.tar.gz with Makefile.PL
   Checking if your kit is complete...
   Looks good
   Generating a dmake-style Makefile
   Writing Makefile for App::cpanminus
   Writing MYMETA.yml and MYMETA.json
     MIYAGAWA/App-cpanminus-1.7040.tar.gz
     C:\msys64\mingw64\bin\perl.exe Makefile.PL -- OK
   Running make for M/MI/MIYAGAWA/App-cpanminus-1.7040.tar.gz
   cp lib/App/cpanminus/fatscript.pm blib\lib\App\cpanminus\fatscript.pm
   cp lib/App/cpanminus.pm blib\lib\App\cpanminus.pm
   &quot;C:\msys64\mingw64\bin\perl.exe&quot; -MExtUtils::Command -e cp -- bin/cpanm blib\script\cpanm
   pl2bat.bat blib\script\cpanm
   &#39;pl2bat.bat&#39; is not recognized as an internal or external command,
   operable program or batch file.
   dmake:  Error code 129, while making &#39;blib\script\cpanm&#39;
   dmake:  &#39;blib\script\cpanm&#39; removed.
     MIYAGAWA/App-cpanminus-1.7040.tar.gz
     dmake -- NOT OK
   &lt;/pre&gt;
   &lt;/p&gt;

   &lt;p&gt;
   The important line here is
   &lt;/p&gt;

   &lt;p&gt;
   &lt;pre&gt;   &#39;pl2bat.bat&#39; is not recognized as an internal or external command,
   &lt;/pre&gt;
   &lt;/p&gt;

   &lt;p&gt;
   It tries to using &lt;code&gt;pl2bat.bat&lt;/code&gt; to install the &lt;code&gt;cpanm&lt;/code&gt;
   script, but it is missing. Let&#39;s take a look:
   &lt;/p&gt;

   &lt;p&gt;
   &lt;pre&gt;   $ which pl2bat.bat
   which: no pl2bat.bat in (...)
   &lt;/pre&gt;
   &lt;/p&gt;

   &lt;p&gt;
   OK, so it is not there. What about without the &lt;code&gt;.bat&lt;/code&gt; extension?
   &lt;/p&gt;

   &lt;p&gt;
   &lt;pre&gt;   # Where is pl2bat?
   $ which pl2bat
   /mingw64/bin/pl2bat

   # What does the beginning of the file look like.
   $ head -1 $(which pl2bat)
   #!perl -w
   &lt;/pre&gt;
   &lt;/p&gt;

   &lt;p&gt;
   OK, so it does exist and is a Perl script. We just need it be a Windows batch file.
   &lt;/p&gt;

   &lt;p&gt;
   &lt;dl&gt;
       &lt;dt&gt;Note about &lt;code&gt;pl2bat&lt;/code&gt;&lt;/dt&gt;
       &lt;dd&gt;
       The &lt;code&gt;pl2bat&lt;/code&gt; command is a tool that is used on Windows in order to allow for
       running Perl scripts without having to specify that they must run under Perl.
       So instead of having to type &lt;code&gt;perl myscript&lt;/code&gt; to run code in the &lt;code&gt;myscript&lt;/code&gt;
       file, we can just type &lt;code&gt;myscript&lt;/code&gt; and run it as if it was just another
       executable. This works by wrapping the original code and placing it into a
       Windows batch file that calls the Perl interpreter on the same file.
       &lt;/dd&gt;
   &lt;/dl&gt;
   &lt;/p&gt;

   &lt;p&gt;
   It turns out that MSYS2 has the Perl script &lt;code&gt;pl2bat&lt;/code&gt; which does
   the conversion, but that file was not converted itself! To do that we find the
   path for the &lt;code&gt;pl2bat&lt;/code&gt; file and run &lt;code&gt;pl2bat&lt;/code&gt; on it.
   &lt;/p&gt;

   &lt;p&gt;
   &lt;div class=&quot;highlight-sh&quot;&gt;&lt;pre class=&quot;hl&quot;&gt;   pl2bat $&lt;span class=&quot;hl opt&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hl kwc&quot;&gt;which&lt;/span&gt; pl2bat&lt;span class=&quot;hl opt&quot;&gt;)&lt;/span&gt;

&lt;/pre&gt;&lt;/div&gt;
   &lt;/p&gt;

   &lt;p&gt;
   We can then install &lt;code&gt;cpanm&lt;/code&gt; as before and it works.
   &lt;/p&gt;

   &lt;p&gt;
   &lt;div class=&quot;highlight-sh&quot;&gt;&lt;pre class=&quot;hl&quot;&gt;   &lt;span class=&quot;hl kwc&quot;&gt;yes&lt;/span&gt; | cpan App&lt;span class=&quot;hl opt&quot;&gt;::&lt;/span&gt;cpanminus

&lt;/pre&gt;&lt;/div&gt;
   &lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;
   &lt;p&gt;
   Install the Perl dependencies for curie itself by running the following in a copy of the
   &lt;code&gt;curie&lt;/code&gt; repository:
   &lt;/p&gt;

   &lt;p&gt;
   &lt;div class=&quot;highlight-sh&quot;&gt;&lt;pre class=&quot;hl&quot;&gt;   cpanm &lt;span class=&quot;hl kwb&quot;&gt;--installdeps&lt;/span&gt; .

&lt;/pre&gt;&lt;/div&gt;
   &lt;/p&gt;

   &lt;p&gt;
   This reads the &lt;code&gt;cpanfile&lt;/code&gt; which lists the Perl prerequisites for
   the project and installs everything needed to build, run, and test the code.
   &lt;/p&gt;

   &lt;p&gt;
   But we hit an issue here when it attempts to install Gtk3 and in turn
   its dependency Glib.
   &lt;/p&gt;

   &lt;p&gt;
   &lt;pre&gt;   $ cpanm -f Glib
   --&amp;gt; Working on Glib
   Fetching http://www.cpan.org/authors/id/X/XA/XAOC/Glib-1.321.tar.gz ... OK
   Configuring Glib-1.321 ... OK
   Building and testing Glib-1.321 ... ! Installing Glib failed. See C:\msys64\...\build.log for details. Retry with --force to force install it.
   FAIL
   &lt;/pre&gt;
   &lt;/p&gt;

   &lt;p&gt;
   Let&#39;s take a closer look at what is happening with Glib by adding the &lt;code&gt;--verbose&lt;/code&gt; flag:
   &lt;/p&gt;

   &lt;p&gt;
   &lt;pre&gt;   $ cpanm --verbose Glib
   # [ redacted configuration output ]
   # [ redacted compilation output ]
   [ LD blib\arch\auto\Glib\Glib.dll ]
   Glib.o:Glib.c:(.text+0x156d): undefined reference to `__imp_glib_major_version&#39;
   Glib.o:Glib.c:(.text+0x15a3): undefined reference to `__imp_glib_minor_version&#39;
   Glib.o:Glib.c:(.text+0x15b1): undefined reference to `__imp_glib_micro_version&#39;
   Glib.o:Glib.c:(.text+0x15e8): undefined reference to `__imp_glib_micro_version&#39;
   Glib.o:Glib.c:(.text+0x1603): undefined reference to `__imp_glib_minor_version&#39;
   Glib.o:Glib.c:(.text+0x160a): undefined reference to `__imp_glib_micro_version&#39;
   GUtils.o:GUtils.c:(.text+0x573): undefined reference to `__imp_glib_micro_version&#39;
   GUtils.o:GUtils.c:(.text+0x583): undefined reference to `__imp_glib_minor_version&#39;
   GUtils.o:GUtils.c:(.text+0x593): undefined reference to `__imp_glib_major_version&#39;
   GParamSpec.o:GParamSpec.c:(.text+0x2ee4): undefined reference to `__imp_g_param_spec_types&#39;
   GParamSpec.o:GParamSpec.c:(.text+0x3032): undefined reference to `__imp_g_param_spec_types&#39;
   GParamSpec.o:GParamSpec.c:(.text+0x3152): undefined reference to `__imp_g_param_spec_types&#39;
   GParamSpec.o:GParamSpec.c:(.text+0x3292): undefined reference to `__imp_g_param_spec_types&#39;
   GParamSpec.o:GParamSpec.c:(.text+0x3347): undefined reference to `__imp_g_param_spec_types&#39;
   GParamSpec.o:GParamSpec.c:(.text+0x3422): more undefined references to `__imp_g_param_spec_types&#39; follow
   C:\msys64\mingw64\lib\libgobject-2.0.a(libgobject_2_0_la-gclosure.o):(.text+0x222e): undefined reference to `ffi_prep_cif&#39;
   C:\msys64\mingw64\lib\libgobject-2.0.a(libgobject_2_0_la-gclosure.o):(.text+0x224e): undefined reference to `ffi_call&#39;
   C:\msys64\mingw64\lib\libgobject-2.0.a(libgobject_2_0_la-gclosure.o):(.text+0x2607): undefined reference to `ffi_prep_cif&#39;
   C:\msys64\mingw64\lib\libgobject-2.0.a(libgobject_2_0_la-gclosure.o):(.text+0x262f): undefined reference to `ffi_call&#39;
   C:\msys64\mingw64\lib\libgobject-2.0.a(libgobject_2_0_la-gclosure.o):(.rdata$.refptr.ffi_type_void[.refptr.ffi_type_void]+0x0): undefined reference to `ffi_type_void&#39;
   C:\msys64\mingw64\lib\libgobject-2.0.a(libgobject_2_0_la-gclosure.o):(.rdata$.refptr.ffi_type_uint64[.refptr.ffi_type_uint64]+0x0): undefined reference to `ffi_type_uint64&#39;
   C:\msys64\mingw64\lib\libgobject-2.0.a(libgobject_2_0_la-gclosure.o):(.rdata$.refptr.ffi_type_sint64[.refptr.ffi_type_sint64]+0x0): undefined reference to `ffi_type_sint64&#39;
   C:\msys64\mingw64\lib\libgobject-2.0.a(libgobject_2_0_la-gclosure.o):(.rdata$.refptr.ffi_type_double[.refptr.ffi_type_double]+0x0): undefined reference to `ffi_type_double&#39;
   C:\msys64\mingw64\lib\libgobject-2.0.a(libgobject_2_0_la-gclosure.o):(.rdata$.refptr.ffi_type_float[.refptr.ffi_type_float]+0x0): undefined reference to `ffi_type_float&#39;
   C:\msys64\mingw64\lib\libgobject-2.0.a(libgobject_2_0_la-gclosure.o):(.rdata$.refptr.ffi_type_pointer[.refptr.ffi_type_pointer]+0x0): undefined reference to `ffi_type_pointer&#39;
   C:\msys64\mingw64\lib\libgobject-2.0.a(libgobject_2_0_la-gclosure.o):(.rdata$.refptr.ffi_type_uint32[.refptr.ffi_type_uint32]+0x0): undefined reference to `ffi_type_uint32&#39;
   C:\msys64\mingw64\lib\libgobject-2.0.a(libgobject_2_0_la-gclosure.o):(.rdata$.refptr.ffi_type_sint32[.refptr.ffi_type_sint32]+0x0): undefined reference to `ffi_type_sint32&#39;
   C:\msys64\mingw64\lib\libglib-2.0.a(libglib_2_0_la-gmain.o):(.text+0x25c8): undefined reference to `__imp_timeGetTime&#39;
   C:\msys64\mingw64\lib\libglib-2.0.a(libglib_2_0_la-gmain.o):(.text+0x2608): undefined reference to `__imp_timeGetTime&#39;
   C:\msys64\mingw64\lib\libglib-2.0.a(libglib_2_0_la-gregex.o):(.text+0x1a6): undefined reference to `pcre_get_stringtable_entries&#39;
   C:\msys64\mingw64\lib\libglib-2.0.a(libglib_2_0_la-gregex.o):(.text+0x231): undefined reference to `pcre_get_stringnumber&#39;
   C:\msys64\mingw64\lib\libglib-2.0.a(libglib_2_0_la-gregex.o):(.text+0xa36): undefined reference to `pcre_exec&#39;
   C:\msys64\mingw64\lib\libglib-2.0.a(libglib_2_0_la-gregex.o):(.text+0x132f): undefined reference to `pcre_compile2&#39;
   C:\msys64\mingw64\lib\libglib-2.0.a(libglib_2_0_la-gregex.o):(.text+0x134d): undefined reference to `pcre_fullinfo&#39;
   C:\msys64\mingw64\lib\libglib-2.0.a(libglib_2_0_la-gregex.o):(.text+0x13c9): undefined reference to `pcre_fullinfo&#39;
   C:\msys64\mingw64\lib\libglib-2.0.a(libglib_2_0_la-gregex.o):(.text+0x1b44): undefined reference to `pcre_fullinfo&#39;
   C:\msys64\mingw64\lib\libglib-2.0.a(libglib_2_0_la-gregex.o):(.text+0x1d9c): undefined reference to `pcre_study&#39;
   C:\msys64\mingw64\lib\libglib-2.0.a(libglib_2_0_la-gregex.o):(.text+0x1e9d): undefined reference to `pcre_config&#39;
   C:\msys64\mingw64\lib\libglib-2.0.a(libglib_2_0_la-gregex.o):(.text+0x1eb4): undefined reference to `pcre_config&#39;
   C:\msys64\mingw64\lib\libglib-2.0.a(libglib_2_0_la-gregex.o):(.text+0x1f98): undefined reference to `pcre_fullinfo&#39;
   C:\msys64\mingw64\lib\libglib-2.0.a(libglib_2_0_la-gregex.o):(.text+0x1fc8): undefined reference to `pcre_fullinfo&#39;
   C:\msys64\mingw64\lib\libglib-2.0.a(libglib_2_0_la-gregex.o):(.text+0x1ff8): undefined reference to `pcre_fullinfo&#39;
   C:\msys64\mingw64\lib\libglib-2.0.a(libglib_2_0_la-gregex.o):(.text+0x2028): undefined reference to `pcre_fullinfo
   &lt;/pre&gt;
   &lt;/p&gt;

   &lt;p&gt;
   OK, that&#39;s a lot of errors. Seems that the linker phase (&lt;code&gt;ld&lt;/code&gt;)
   has failed to find several function names in the &lt;code&gt;libglib-2.0.a&lt;/code&gt; and
   &lt;code&gt;libgobject-2.0.a&lt;/code&gt; library files.
   &lt;/p&gt;

   &lt;p&gt;
   &lt;dl&gt;
     &lt;dt&gt;
       Note about library files on Windows
     &lt;/dt&gt;
     &lt;dd&gt;
       &lt;p&gt;
       We see that that library files above both end in the &lt;code&gt;.a&lt;/code&gt; extension (for
       archive). This indicates that this is a static library which means
       symbols such as function names get resolved at linking time through
       &lt;em&gt;static linking&lt;/em&gt;.
       &lt;/p&gt;

       &lt;p&gt;
       We can also resolve symbols at runtime through &lt;em&gt;dynamic linking&lt;/em&gt;.
       These files have the extension &lt;code&gt;.dll&lt;/code&gt; on Windows.
       &lt;/p&gt;
     &lt;dd&gt;
   &lt;/dl&gt;
   &lt;/p&gt;

   &lt;p&gt;
   Let&#39;s take a look at what we expect the linker
   flags to be for &lt;code&gt;libglib&lt;/code&gt; and &lt;code&gt;libgobject&lt;/code&gt; by using
   the &lt;code&gt;pkg-config&lt;/code&gt; command:
   &lt;/p&gt;

   &lt;p&gt;
   &lt;pre&gt;   # Find the name of the glib and gobject library packages
   $ pkg-config --list-all | grep glib\|gobject
   glib-2.0                            GLib - C Utility Library
   gobject-2.0                         GObject - GLib Type, Object, Parameter and Signal Library

   # Get the linker flags
   $ pkg-config --libs glib-2.0 gobject-2.0
   -LC:/msys64/mingw64/lib -lgobject-2.0 -lglib-2.0 -lintl
   &lt;/pre&gt;
   &lt;/p&gt;

   &lt;p&gt;
   OK, that looks reasonable. But we see the above errors refer to functions
   that are prefixed with &lt;code&gt;ffi_&lt;/code&gt; and &lt;code&gt;pcre_&lt;/code&gt;. The
   convention for C libraries is that the prefix referse to the libraries that
   the functions came from. But we don&#39;t see any flags for those libraries
   (&lt;code&gt;-lffi -lpcre&lt;/code&gt;). So when linker attempts static linking against
   the &lt;code&gt;.a&lt;/code&gt; files, it does not know that the other libraries are
   needed.
   &lt;/p&gt;

   &lt;p&gt;
   We can try to get the linker flags for static linking by adding the
   &lt;code&gt;--static&lt;/code&gt; flag to &lt;code&gt;pkg-config&lt;/code&gt;
   &lt;/p&gt;

   &lt;p&gt;
   &lt;pre&gt;   # Get the static linker flags
   $ pkg-config --static --libs glib-2.0 gobject-2.0
   -LC:/msys64/mingw64/lib -LC:/msys64/mingw64/lib/../lib -LC:/msys64/mingw64/lib -lgobject-2.0 -lffi -lglib-2.0 -lintl -pthread -lws2_32 -lole32 -lwinmm -lshlwapi -lpcre -lintl -lpcre
   &lt;/pre&gt;
   &lt;/p&gt;

   &lt;p&gt;
   Ah, there we go! Let&#39;s compare this to what the Glib module uses when linking:
   &lt;/p&gt;

   &lt;p&gt;
   &lt;pre&gt;   # Drop into the Glib installation directory
   $ cpanm --look Glib

   # Generate the Makefile
   Glib-1.321 $ perl Makefile.PL verbose
   # [ redacted output ]
   Potential libraries are &#39;-LC:/msys64/mingw64/lib -lgobject-2.0 -lglib-2.0 -lintl -lgthread-2.0 -pthread -lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladvapi32 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm -lversion -lodbc32 -lodbccp32 -lcomctl32&#39;:
   # [ redacted output ]
   Result: &quot;C:\msys64\mingw64\lib\libgobject-2.0.a&quot; &quot;C:\msys64\mingw64\lib\libglib-2.0.a&quot; &quot;C:\msys64\mingw64\lib\libintl.a&quot; &quot;C:\msys64\mingw64\lib\libgthread-2.0.a&quot;
   Generating a dmake-style Makefile
   Writing Makefile for Glib
   Writing MYMETA.yml and MYMETA.json
   &lt;/pre&gt;
   &lt;/p&gt;

   &lt;p&gt;
   OK, wait, what&#39;s this? We get the list of dynamic linker flags where it says
   &quot;Potential libraries&quot;, but when it says &quot;Result:&quot;, a couple of those flags
   become paths to the corresponding &lt;code&gt;.a&lt;/code&gt; files. Let&#39;s run
   &lt;code&gt;dmake&lt;/code&gt; with the
   &lt;code&gt;&lt;a href=&quot;https://metacpan.org/pod/ExtUtils::MakeMaker#NOECHO&quot;&gt;NOECHO&lt;/a&gt;&lt;/code&gt;
   flag to see what is going on:
   &lt;/p&gt;

   &lt;p&gt;
   &lt;pre&gt;   Glib-1.321 $ dmake NOECHO=&#39;&#39;
   # [ redacted output ]
   [ LD blib\arch\auto\Glib\Glib.dll ]
   g++ Glib.def -o blib\arch\auto\Glib\Glib.dll -mdll -s -L&quot;C:\msys64\mingw64\lib\perl5\core_perl\CORE&quot; -L&quot;C:\msys64\mingw64\lib&quot; Glib.o GError.o GUtils.o GLog.o GType.o GBoxed.o GObject.o GValue.o GClosure.o GSignal.o GMainLoop.o GIOChannel.o GParamSpec.o GKeyFile.o GOption.o GBookmarkFile.o GVariant.o gperl-gtypes.o   &quot;C:\msys64\mingw64\lib\perl5\core_perl\CORE\libperl522.a&quot; &quot;C:\msys64\mingw64\lib\libgobject-2.0.a&quot; &quot;C:\msys64\mingw64\lib\libglib-2.0.a&quot; &quot;C:\msys64\mingw64\lib\libintl.a&quot; &quot;C:\msys64\mingw64\lib\libgthread-2.0.a&quot; -Wl,--enable-auto-image-base
   Glib.o:Glib.c:(.text+0x156d): undefined reference to `__imp_glib_major_version&#39;
   Glib.o:Glib.c:(.text+0x15a3): undefined reference to `__imp_glib_minor_version&#39;
   Glib.o:Glib.c:(.text+0x15b1): undefined reference to `__imp_glib_micro_version&#39;
   # [ rest of the linker errors as before ]
   &lt;/pre&gt;
   &lt;/p&gt;

   &lt;p&gt;
   OK, so here we see that all the dynamic linker flags are using the full
   paths to the &lt;code&gt;.a&lt;/code&gt; files. Let&#39;s take a look at how
   &lt;code&gt;Makefile.PL&lt;/code&gt; passes on this information to the &lt;code&gt;Makefile&lt;/code&gt;
   &lt;/p&gt;

   &lt;p&gt;
   &lt;pre&gt;   Glib-1.321 $ grep libgobject-2.0.a Makefile
   EXTRALIBS = &quot;C:\msys64\mingw64\lib\libgobject-2.0.a&quot; &quot;C:\msys64\mingw64\lib\libglib-2.0.a&quot; &quot;C:\msys64\mingw64\lib\libintl.a&quot; &quot;C:\msys64\mingw64\lib\libgthread-2.0.a&quot;
   LDLOADLIBS = &quot;C:\msys64\mingw64\lib\libgobject-2.0.a&quot; &quot;C:\msys64\mingw64\lib\libglib-2.0.a&quot; &quot;C:\msys64\mingw64\lib\libintl.a&quot; &quot;C:\msys64\mingw64\lib\libgthread-2.0.a&quot;
   # EXTRALIBS =&amp;gt; q[&quot;C:\msys64\mingw64\lib\libgobject-2.0.a&quot; &quot;C:\msys64\mingw64\lib\libglib-2.0.a&quot; &quot;C:\msys64\mingw64\lib\libintl.a&quot; &quot;C:\msys64\mingw64\lib\libgthread-2.0.a&quot;]
   # LDLOADLIBS =&amp;gt; q[&quot;C:\msys64\mingw64\lib\libgobject-2.0.a&quot; &quot;C:\msys64\mingw64\lib\libglib-2.0.a&quot; &quot;C:\msys64\mingw64\lib\libintl.a&quot; &quot;C:\msys64\mingw64\lib\libgthread-2.0.a&quot;]
   &lt;/pre&gt;]
   &lt;/p&gt;

   &lt;p&gt;
   So it appears that &lt;code&gt;ExtUtils::MakeMaker&lt;/code&gt; is setting the &lt;code&gt;EXTRALIBS&lt;/code&gt;
   and &lt;code&gt;LDLOADLIBS&lt;/code&gt; variables. Let&#39;s try setting them ourselves to the output of
   &lt;code&gt;pkg-config&lt;/code&gt;:
   &lt;/p&gt;

   &lt;p&gt;
   &lt;pre&gt;   Glib-1.321 $ export GLIB_PKG_CONFIG=&quot;$(pkg-config --libs gobject-2.0 glib-2.0)&quot;
   Glib-1.321 $ dmake NOECHO=&#39;&#39; LDLOADLIBS=&quot;$GLIB_PKG_CONFIG&quot; EXTRALIBS=&quot;$GLIB_PKG_CONFIG&quot;
   &lt;/pre&gt;
   &lt;/p&gt;

   &lt;p&gt;
   It built successfully! This means that there is a problem with using the
   full path to the &lt;code&gt;.a&lt;/code&gt; files. We need to see why
   &lt;code&gt;EXTRALIBS&lt;/code&gt; and &lt;code&gt;LDLOADLIBS&lt;/code&gt; are being set the way
   they are.
   &lt;/p&gt;

   &lt;p&gt;
   Let&#39;s search the distribution for documentation about these variables by
   going to the &lt;a href=&quot;https://metacpan.org/release/ExtUtils-MakeMaker&quot;&gt;distribution&#39;s page on MetaCPAN&lt;/a&gt;
   and typing the query &lt;code&gt;EXTRALIBS LDLOADLIBS&lt;/code&gt; in the search box:
   &lt;/p&gt;

   &lt;p&gt;
   &lt;table class=&quot;img&quot;&gt;&lt;caption&gt;Screenshot of the ExtUtils-MakeMaker page highlighting the Search Distribution field&lt;/caption&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/05/03/gfx/metacpan-search-eumm-highlight.png&quot;&gt;&lt;img src=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/05/03/gfx/metacpan-search-eumm-highlight.png&quot; width=&quot;882&quot; height=&quot;901&quot; class=&quot;img&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
   &lt;/p&gt;

   &lt;p&gt;
   Looking at the
   &lt;a href=&quot;https://metacpan.org/search?q=dist%3AExtUtils-MakeMaker+EXTRALIBS+LDLOADLIBS&amp;search_type=modules&quot;&gt;results&lt;/a&gt;,
   we see &lt;a href=&quot;https://metacpan.org/pod/ExtUtils::Liblist&quot;&gt;ExtUtils::Liblist&lt;/a&gt; and &lt;a href=&quot;https://metacpan.org/pod/ExtUtils::MM_Unix&quot;&gt;ExtUtils::MM_Unix&lt;/a&gt;.
   &lt;/p&gt;

   &lt;table class=&quot;img&quot;&gt;&lt;caption&gt;Screenshot of the results of the query for LIB Makefile variables&lt;/caption&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/05/03/gfx/metacpan-search-eumm-libs-results.png&quot;&gt;&lt;img src=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/05/03/gfx/metacpan-search-eumm-libs-results.png&quot; width=&quot;937&quot; height=&quot;460&quot; class=&quot;img&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

   &lt;p&gt;
   The ExtUtils::Liblist looks promising. In &lt;a href=&quot;https://metacpan.org/pod/release/BINGOS/ExtUtils-MakeMaker-7.14/lib/ExtUtils/Liblist.pm&quot;&gt;version 7.14&lt;/a&gt; of the documentation, there&#39;s a section about the Win32
   behaviour:
   &lt;blockquote&gt;
   An entry of the form &lt;code&gt;-lfoo&lt;/code&gt; specifies the library &lt;code&gt;foo&lt;/code&gt;,
   which may be spelled differently depending on what kind of compiler you are
   using. If you are using GCC, it gets translated to &lt;code&gt;libfoo.a&lt;/code&gt;, but
   for other win32 compilers, it becomes &lt;code&gt;foo.lib&lt;/code&gt;.
   &lt;/blockquote&gt;
   &lt;/p&gt;

   &lt;p&gt;
   So the translation to full paths is a part of the design. Reading further, we see
   &lt;blockquote&gt;
   An entry that matches &lt;code&gt;/:nosearch/i&lt;/code&gt; disables all searching for the libraries specified after it.
   &lt;/blockquote&gt;
   &lt;/p&gt;

   &lt;p&gt;
   So if we but &lt;code&gt;:nosearch&lt;/code&gt; in the &lt;a href=&quot;https://metacpan.org/pod/ExtUtils::MakeMaker#LIBS&quot;&gt;LIBS parameter&lt;/a&gt; of the function
   that generates the &lt;code&gt;Makefile&lt;/code&gt;, (i.e., &lt;code&gt;WriteMakefile&lt;/code&gt;). Let&#39;s try that
   &lt;/p&gt;

   &lt;p&gt;
   &lt;pre&gt;   $ cpanm --look Glib
   Glib-1.321 $ export GLIB_PKG_CONFIG=&quot;$(pkg-config --libs gobject-2.0 glib-2.0)&quot;
   Glib-1.321 $ perl Makefile.PL LIBS=&quot;:nosearch $GLIB_PKG_CONFIG&quot; verbose
   # [ remove extra output ]
   Potential libraries are &#39;:nosearch -LC:/msys64/mingw64/lib -lgobject-2.0 -lglib-2.0 -lintl -lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32 -ladvapi32 -lshell32 -lole32 -loleaut32 -lnetapi32 -luuid -lws2_32 -lmpr -lwinmm -lversion -lodbc32 -lodbccp32 -lcomctl32&#39;:
   Result: &quot;-LC:\msys64\mingw64\lib&quot; &quot;-lgobject-2.0&quot; &quot;-lglib-2.0&quot; &quot;-lintl&quot; &quot;-lmoldname&quot; &quot;-lkernel32&quot; &quot;-luser32&quot; &quot;-lgdi32&quot; &quot;-lwinspool&quot; &quot;-lcomdlg32&quot; &quot;-ladvapi32&quot; &quot;-lshell32&quot; &quot;-lole32&quot; &quot;-loleaut32&quot; &quot;-lnetapi32&quot; &quot;-luuid&quot; &quot;-lws2_32&quot; &quot;-lmpr&quot; &quot;-lwinmm&quot; &quot;-lversion&quot; &quot;-lodbc32&quot; &quot;-lodbccp32&quot; &quot;-lcomctl32&quot;
   # [ remove extra output ]
   Glib-1.321 $ dmake NOECHO=&#39;&#39;
   &lt;/pre&gt;
   &lt;/p&gt;

   &lt;p&gt;
   Hey, it&#39;s working!
   &lt;/p&gt;

   &lt;p&gt;
   So now we know that all we need is to put
   &lt;code&gt;:nosearch&lt;/code&gt; in the &lt;code&gt;LIBS&lt;/code&gt; parameter and it will build.
   But that&#39;s still problematic, because if I try to install any module, I will
   have to open it up to find out what it is passing in to LIBS and copy that
   into the command line for the configuration step.
   &lt;/p&gt;

   &lt;p&gt;
   I did that anyway and installed Glib, Cairo, Glib::Object::Introspection,
   Cairo::GObject, and XML::Parser by manually setting the flags for
   &lt;code&gt;LIBS&lt;/code&gt;.
   &lt;/p&gt;

   &lt;p&gt;
   I then popped into the &lt;code&gt;#toolchain&lt;/code&gt; IRC channel on the
   &lt;code&gt;irc.perl.org&lt;/code&gt; network to share what I had learned and ask
   if there was another way forward. After a quick convo with
   &lt;code&gt;&lt;a href=&quot;http://shadow.cat/blog/matt-s-trout/&quot;&gt;mst&lt;/a&gt;++&lt;/code&gt;, he came back
   with a one-liner that wrapped the &lt;code&gt;WriteMakefile&lt;/code&gt; function and inserted
   &lt;code&gt;:nosearch&lt;/code&gt; into the &lt;code&gt;LIBS&lt;/code&gt; parameter:
   &lt;/p&gt;

   &lt;p&gt;
   &lt;pre&gt;   perl -Maliased=ExtUtils::MakeMaker,EUMM \
     -e &#39;my $i = EUMM-&amp;gt;can(&quot;import&quot;); no warnings &quot;redefine&quot;; *ExtUtils::MakeMaker::import = sub { &amp;amp;$i; my $targ = caller; my $wm = $targ-&amp;gt;can(&quot;WriteMakefile&quot;); *{&quot;${targ}::WriteMakefile&quot;} = sub { my %args = @_; $args{LIBS} =~ s/^/:nosearch /; $wm-&amp;gt;(%args) }; }; do &quot;Makefile.PL&quot; or die &quot;Hack failed: $@&quot;&#39;
   &lt;/pre&gt;
   &lt;/p&gt;

   &lt;p&gt;
   Yes, that is one line and it does work!
   &lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;
   &lt;p&gt;
   Rejoice! The curie code runs!
   &lt;/p&gt;

   &lt;table class=&quot;img&quot;&gt;&lt;caption&gt;Screenshot of the curie GUI with a test PDF open&lt;/caption&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/05/03/gfx/mingw64-curie.png&quot;&gt;&lt;img src=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/05/03/gfx/mingw64-curie.png&quot; width=&quot;1090&quot; height=&quot;928&quot; class=&quot;img&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/li&gt;

&lt;/ol&gt;

&lt;p&gt;
At this point, I was quite happy. Now I needed to reproduce these steps so that
they can be used to test every set of changes to the codebase. I could do this
with the Appveyor CI service for Windows. Little did I know that there was a lot more work
coming my way.
&lt;/p&gt;

&lt;h2 id=&quot;buildingonappveyor&quot;&gt;Building on Appveyor&lt;/h2&gt;

&lt;p&gt;In this section, it is easier to show parts of the Appveyor configuration and
explain what each part is for rather than show how I debugged the
configuration — mainly because it took me a little over 50 builds on Appveyor
to figure out all the quirks of the system. Many of them were missteps on my
part, but is hard to figure out where things go wrong on a remote system if you
can only run commands every 20 minutes!&lt;/p&gt;

&lt;p&gt;&lt;ol&gt;
&lt;li&gt;&lt;/p&gt;

&lt;p&gt;
  After enabling the curie project on the &lt;a href=&quot;https://www.appveyor.com/&quot;&gt;Appveyor
  website&lt;/a&gt;, we need an &lt;code&gt;appveyor.yml&lt;/code&gt;
  configuration file with the commands needed for building the project.
  &lt;/p&gt;

&lt;p&gt;
  I first search GitHub for other projects that used Appveyor with MSYS2 and
  came across the &lt;code&gt;appveyor.yml&lt;/code&gt; configuration file for
  &lt;a href=&quot;https://github.com/Framstag/libosmscout/blob/a53ab2b770a11e83f401b0a985aacb096769286c/appveyor.yml&quot;&gt;libosmscout&lt;/a&gt;.
  It has support for compiling under both the MinGW64 GCC compiler and Microsoft&#39;s
  MSVC2015 compiler. Right now, I just need the bits for MSYS2 MinGW64:
  &lt;/p&gt;

&lt;p&gt;
  &lt;pre&gt;  version: 1.0.{build}

  environment:
    matrix:
    - COMPILER: msys2
      PLATFORM: x64
      MSYS2_ARCH: x86_64
      MSYS2_DIR: msys64
      MSYSTEM: MINGW64
      BIT: 64

  install:
    # running under CI
    - set CI_TESTING=1
    - &#39;%APPVEYOR_BUILD_FOLDER%\dev\ci\appveyor\install.bat&#39;
    - &#39;echo End intall at: &amp;amp; time /t&#39;

  build_script:
    - &#39;echo Nothing to build&#39;

  test_script:
    - &#39;%APPVEYOR_BUILD_FOLDER%\dev\ci\appveyor\test.bat&#39;
  &lt;/pre&gt;
  &lt;/p&gt;

&lt;p&gt;
  The important part here is the line
  &lt;/p&gt;

&lt;p&gt;
  &lt;pre&gt;    - &#39;%APPVEYOR_BUILD_FOLDER%\dev\ci\appveyor\install.bat&#39;
  &lt;/pre&gt;
  &lt;/p&gt;

&lt;p&gt;
  which tells Appveyor to run a batch file with more instructions.
  The contents of this are
  &lt;/p&gt;

&lt;p&gt;
  &lt;div class=&quot;highlight-bat&quot;&gt;&lt;pre class=&quot;hl&quot;&gt;  &amp;#64;&lt;span class=&quot;hl kwb&quot;&gt;echo&lt;/span&gt; off

  &lt;span class=&quot;hl kwb&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;hl kwc&quot;&gt;%APPVEYOR_BUILD_FOLDER%&lt;/span&gt;

  &lt;span class=&quot;hl kwb&quot;&gt;echo&lt;/span&gt; Compiler&lt;span class=&quot;hl opt&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;hl kwc&quot;&gt;%COMPILER%&lt;/span&gt;
  &lt;span class=&quot;hl kwb&quot;&gt;echo&lt;/span&gt; Architecture&lt;span class=&quot;hl opt&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;hl kwc&quot;&gt;%MSYS2_ARCH%&lt;/span&gt;
  &lt;span class=&quot;hl kwb&quot;&gt;echo&lt;/span&gt; Platform&lt;span class=&quot;hl opt&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;hl kwc&quot;&gt;%PLATFORM%&lt;/span&gt;
  &lt;span class=&quot;hl kwb&quot;&gt;echo&lt;/span&gt; MSYS2 directory&lt;span class=&quot;hl opt&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;hl kwc&quot;&gt;%MSYS2_DIR%&lt;/span&gt;
  &lt;span class=&quot;hl kwb&quot;&gt;echo&lt;/span&gt; MSYS2 system&lt;span class=&quot;hl opt&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;hl kwc&quot;&gt;%MSYSTEM%&lt;/span&gt;
  &lt;span class=&quot;hl kwb&quot;&gt;echo&lt;/span&gt; Bits&lt;span class=&quot;hl opt&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;hl kwc&quot;&gt;%BIT%&lt;/span&gt;

  REM Create a writeable TMPDIR
  &lt;span class=&quot;hl kwb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;hl kwc&quot;&gt;%APPVEYOR_BUILD_FOLDER%&lt;/span&gt;&lt;span class=&quot;hl esc&quot;&gt;\t&lt;/span&gt;mp
  &lt;span class=&quot;hl kwb&quot;&gt;set&lt;/span&gt; TMPDIR&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl kwc&quot;&gt;%APPVEYOR_BUILD_FOLDER%&lt;/span&gt;&lt;span class=&quot;hl esc&quot;&gt;\t&lt;/span&gt;mp

  &lt;span class=&quot;hl kwa&quot;&gt;IF&lt;/span&gt; &lt;span class=&quot;hl kwc&quot;&gt;%COMPILER%&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;==&lt;/span&gt;msys2 &lt;span class=&quot;hl opt&quot;&gt;(&lt;/span&gt;
    &amp;#64;&lt;span class=&quot;hl kwb&quot;&gt;echo&lt;/span&gt; on
    &lt;span class=&quot;hl kwb&quot;&gt;SET&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;quot;PATH=C:\&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;%MSYS2_DIR%&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;%MSYSTEM%&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&lt;/span&gt;&lt;span class=&quot;hl esc&quot;&gt;\b&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;in;C:\&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;%MSYS2_DIR%&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;\usr&lt;/span&gt;&lt;span class=&quot;hl esc&quot;&gt;\b&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;in;&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;%PATH%&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt;
    bash &lt;span class=&quot;hl opt&quot;&gt;-&lt;/span&gt;lc &lt;span class=&quot;hl str&quot;&gt;&amp;quot;pacman -S --needed --noconfirm pacman-mirrors&amp;quot;&lt;/span&gt;
    bash &lt;span class=&quot;hl opt&quot;&gt;-&lt;/span&gt;lc &lt;span class=&quot;hl str&quot;&gt;&amp;quot;pacman -S --needed --noconfirm git&amp;quot;&lt;/span&gt;
    REM Update
    bash &lt;span class=&quot;hl opt&quot;&gt;-&lt;/span&gt;lc &lt;span class=&quot;hl str&quot;&gt;&amp;quot;pacman -Syu --noconfirm&amp;quot;&lt;/span&gt;

    REM build tools
    bash &lt;span class=&quot;hl opt&quot;&gt;-&lt;/span&gt;lc &lt;span class=&quot;hl str&quot;&gt;&amp;quot;pacman -S --needed --noconfirm mingw-w64-x86_64-toolchain autoconf automake libtool make patch mingw-w64-x86_64-libtool&amp;quot;&lt;/span&gt;

    REM &lt;span class=&quot;hl kwb&quot;&gt;Set&lt;/span&gt; up perl
    bash &lt;span class=&quot;hl opt&quot;&gt;-&lt;/span&gt;lc &lt;span class=&quot;hl str&quot;&gt;&amp;quot;pacman -S --needed --noconfirm mingw-w64-x86_64-perl&amp;quot;&lt;/span&gt;
    bash &lt;span class=&quot;hl opt&quot;&gt;-&lt;/span&gt;lc &lt;span class=&quot;hl str&quot;&gt;&amp;quot;pl2bat $(which pl2bat)&amp;quot;&lt;/span&gt;
    bash &lt;span class=&quot;hl opt&quot;&gt;-&lt;/span&gt;lc &lt;span class=&quot;hl str&quot;&gt;&amp;quot;yes | cpan App::cpanminus&amp;quot;&lt;/span&gt;
    bash &lt;span class=&quot;hl opt&quot;&gt;-&lt;/span&gt;lc &lt;span class=&quot;hl str&quot;&gt;&amp;quot;cpanm --notest ExtUtils::MakeMaker&amp;quot;&lt;/span&gt;

    REM Native deps
    bash &lt;span class=&quot;hl opt&quot;&gt;-&lt;/span&gt;lc &lt;span class=&quot;hl str&quot;&gt;&amp;quot;pacman -S --needed --noconfirm mingw-w64-x86_64-gobject-introspection mingw-w64-x86_64-cairo mingw-w64-x86_64-gtk3 mingw-w64-x86_64-expat mingw-w64-x86_64-openssl&amp;quot;&lt;/span&gt;

    REM There is &lt;span class=&quot;hl kwa&quot;&gt;not&lt;/span&gt; a corresponding cc &lt;span class=&quot;hl kwa&quot;&gt;for&lt;/span&gt; the mingw64 gcc. So we &lt;span class=&quot;hl kwb&quot;&gt;copy&lt;/span&gt; it in place.
    bash &lt;span class=&quot;hl opt&quot;&gt;-&lt;/span&gt;lc &lt;span class=&quot;hl str&quot;&gt;&amp;quot;cp -pv /mingw64/bin/gcc /mingw64/bin/cc&amp;quot;&lt;/span&gt;

    REM Install via cpanfile
    bash &lt;span class=&quot;hl opt&quot;&gt;-&lt;/span&gt;lc &lt;span class=&quot;hl str&quot;&gt;&amp;quot;cd $APPVEYOR_BUILD_FOLDER; . $APPVEYOR_BUILD_FOLDER/dev/ci/appveyor/EUMMnosearch.sh; export MAKEFLAGS=&amp;apos;-j4 -P4&amp;apos;; cpanm --notest --installdeps .&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;hl opt&quot;&gt;)&lt;/span&gt;

&lt;/pre&gt;&lt;/div&gt;
  &lt;/p&gt;

&lt;p&gt;
  There is a lot here, but much of it is the same as discussed in the local
  installation. Let&#39;s talk about what is new.
  &lt;/p&gt;

&lt;p&gt;&lt;/li&gt;&lt;/p&gt;

&lt;p&gt;&lt;li&gt;&lt;/p&gt;

&lt;p&gt;
  Let&#39;s start with the part that installs the dependencies:
  &lt;/p&gt;

&lt;p&gt;
  &lt;div class=&quot;highlight-bat&quot;&gt;&lt;pre class=&quot;hl&quot;&gt;  &lt;span class=&quot;hl kwb&quot;&gt;cd&lt;/span&gt; $APPVEYOR_BUILD_FOLDER
  . $APPVEYOR_BUILD_FOLDER&lt;span class=&quot;hl opt&quot;&gt;/&lt;/span&gt;dev&lt;span class=&quot;hl opt&quot;&gt;/&lt;/span&gt;ci&lt;span class=&quot;hl opt&quot;&gt;/&lt;/span&gt;appveyor&lt;span class=&quot;hl opt&quot;&gt;/&lt;/span&gt;EUMMnosearch.sh
  export MAKEFLAGS&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;apos;-j4 -P4&amp;apos;&lt;/span&gt;
  cpanm &lt;span class=&quot;hl opt&quot;&gt;--&lt;/span&gt;notest &lt;span class=&quot;hl opt&quot;&gt;--&lt;/span&gt;installdeps .

&lt;/pre&gt;&lt;/div&gt;
  &lt;/p&gt;

&lt;p&gt;
  First, we need to be in the directory for the project we want to build
  (stored in the &lt;code&gt;$APPVEYOR_BUILD_FOLDER&lt;/code&gt; environment variable).
  &lt;/p&gt;

&lt;p&gt;
  Then we need to set a couple settings so that we can build with the
  &lt;code&gt;:nosearch&lt;/code&gt; setting from before. We do this by sourcing the
  &lt;code&gt;EUMMnosearch.sh&lt;/code&gt; shell script.
  &lt;/p&gt;

&lt;p&gt;&lt;/li&gt;&lt;/p&gt;

&lt;p&gt;&lt;li&gt;&lt;/p&gt;

&lt;p&gt;
   The &lt;code&gt;EUMMnosearch.sh&lt;/code&gt; script loads that one-liner before by
   turning that code into a Perl module that is loaded every time that Perl is
   run. This can be accomplished by setting the &lt;code&gt;PERL5OPT&lt;/code&gt; environment variable:
   &lt;/p&gt;

&lt;p&gt;
   &lt;div class=&quot;highlight-sh&quot;&gt;&lt;pre class=&quot;hl&quot;&gt;   BUILD_DIR&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;`(cd&lt;/span&gt; &lt;span class=&quot;hl ipl&quot;&gt;$APPVEYOR_BUILD_FOLDER&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;amp;&amp;amp; pwd)`&lt;/span&gt;
   &lt;span class=&quot;hl kwb&quot;&gt;export&lt;/span&gt; PERL5OPT&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;-I&lt;/span&gt;&lt;span class=&quot;hl ipl&quot;&gt;$BUILD_DIR&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;/dev/ci/appveyor -MEUMMnosearch&amp;quot;&lt;/span&gt;
   &lt;span class=&quot;hl kwb&quot;&gt;echo&lt;/span&gt; PERL5OPT&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl kwd&quot;&gt;$PERL5OPT&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;;&lt;/span&gt;

&lt;/pre&gt;&lt;/div&gt;
   &lt;/p&gt;

&lt;p&gt;
   This Perl module is only run when the script being run is the configuration
   step of &lt;code&gt;ExtUtils::MakeMaker&lt;/code&gt;:
   &lt;/p&gt;

&lt;p&gt;
   &lt;div class=&quot;highlight-perl&quot;&gt;&lt;pre class=&quot;hl&quot;&gt;   &lt;span class=&quot;hl kwa&quot;&gt;package&lt;/span&gt; EUMMnosearch&lt;span class=&quot;hl opt&quot;&gt;;&lt;/span&gt;

   &lt;span class=&quot;hl kwa&quot;&gt;package&lt;/span&gt; main&lt;span class=&quot;hl opt&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;hl slc&quot;&gt;# only run when we call the Makefile.PL script&lt;/span&gt;
   &lt;span class=&quot;hl kwa&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;$0&lt;/span&gt; &lt;span class=&quot;hl kwc&quot;&gt;eq&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;quot;Makefile.PL&amp;quot;&lt;/span&gt;  &lt;span class=&quot;hl opt&quot;&gt;) {&lt;/span&gt;
       &lt;span class=&quot;hl kwa&quot;&gt;require&lt;/span&gt; ExtUtils&lt;span class=&quot;hl opt&quot;&gt;::&lt;/span&gt;MakeMaker&lt;span class=&quot;hl opt&quot;&gt;;&lt;/span&gt;

       &lt;span class=&quot;hl kwc&quot;&gt;my&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;$i&lt;/span&gt; &lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt; ExtUtils&lt;span class=&quot;hl opt&quot;&gt;::&lt;/span&gt;MakeMaker&lt;span class=&quot;hl opt&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;hl kwd&quot;&gt;can&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;import&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;);&lt;/span&gt;
       &lt;span class=&quot;hl kwa&quot;&gt;no&lt;/span&gt; warnings &lt;span class=&quot;hl str&quot;&gt;&amp;quot;redefine&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;;&lt;/span&gt;
       &lt;span class=&quot;hl opt&quot;&gt;*&lt;/span&gt;ExtUtils&lt;span class=&quot;hl opt&quot;&gt;::&lt;/span&gt;MakeMaker&lt;span class=&quot;hl opt&quot;&gt;::&lt;/span&gt;import &lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hl kwa&quot;&gt;sub&lt;/span&gt; &lt;span class=&quot;hl opt&quot;&gt;{&lt;/span&gt;
           &lt;span class=&quot;hl opt&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;hl kwb&quot;&gt;$i&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;;&lt;/span&gt;
           &lt;span class=&quot;hl kwc&quot;&gt;my&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;$targ&lt;/span&gt; &lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;quot;main&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;;&lt;/span&gt;
           &lt;span class=&quot;hl kwc&quot;&gt;my&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;$wm&lt;/span&gt; &lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;$targ&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;hl kwd&quot;&gt;can&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;WriteMakefile&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;);&lt;/span&gt;
           &lt;span class=&quot;hl opt&quot;&gt;*{&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;${targ}::WriteMakefile&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;} =&lt;/span&gt; &lt;span class=&quot;hl kwa&quot;&gt;sub&lt;/span&gt; &lt;span class=&quot;hl opt&quot;&gt;{&lt;/span&gt;
               &lt;span class=&quot;hl kwc&quot;&gt;my&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;%args&lt;/span&gt; &lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;&amp;#64;_&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;;&lt;/span&gt;
               &lt;span class=&quot;hl slc&quot;&gt;# Only apply :nosearch after lib linker directory&lt;/span&gt;
               &lt;span class=&quot;hl slc&quot;&gt;# for entire mingw64 system. This way XS modules&lt;/span&gt;
               &lt;span class=&quot;hl slc&quot;&gt;# that depend on other XS modules can compile&lt;/span&gt;
               &lt;span class=&quot;hl slc&quot;&gt;# statically using .a files.&lt;/span&gt;
               &lt;span class=&quot;hl kwb&quot;&gt;$args&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;{&lt;/span&gt;LIBS&lt;span class=&quot;hl opt&quot;&gt;} =~&lt;/span&gt; s&lt;span class=&quot;hl opt&quot;&gt;,^(.*&lt;/span&gt;?&lt;span class=&quot;hl opt&quot;&gt;)(&lt;/span&gt;\Q&lt;span class=&quot;hl opt&quot;&gt;-&lt;/span&gt;LC&lt;span class=&quot;hl opt&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;hl kwd&quot;&gt;/msys64/mi&lt;/span&gt;ngw&lt;span class=&quot;hl num&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;/&lt;/span&gt;lib\E\s&lt;span class=&quot;hl opt&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;hl kwb&quot;&gt;$1&lt;/span&gt; &lt;span class=&quot;hl opt&quot;&gt;:&lt;/span&gt;nosearch &lt;span class=&quot;hl kwb&quot;&gt;$2&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;,;&lt;/span&gt;

               &lt;span class=&quot;hl slc&quot;&gt;# Special case for expat (XML::Parser::Expat) because&lt;/span&gt;
               &lt;span class=&quot;hl slc&quot;&gt;# it does not use either of&lt;/span&gt;
               &lt;span class=&quot;hl slc&quot;&gt;#&lt;/span&gt;
               &lt;span class=&quot;hl slc&quot;&gt;#   - -L&amp;lt;libpath&amp;gt;&lt;/span&gt;
               &lt;span class=&quot;hl slc&quot;&gt;#   - pkg-config --libs expat&lt;/span&gt;
               &lt;span class=&quot;hl kwb&quot;&gt;$args&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;{&lt;/span&gt;LIBS&lt;span class=&quot;hl opt&quot;&gt;} =~&lt;/span&gt; s&lt;span class=&quot;hl opt&quot;&gt;,(&lt;/span&gt;\Q&lt;span class=&quot;hl opt&quot;&gt;-&lt;/span&gt;lexpat\E&lt;span class=&quot;hl opt&quot;&gt;),:&lt;/span&gt;nosearch &lt;span class=&quot;hl kwb&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;,;&lt;/span&gt;
               &lt;span class=&quot;hl kwc&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;quot;LIBS:&lt;/span&gt; &lt;span class=&quot;hl ipl&quot;&gt;$args&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;{LIBS}&lt;/span&gt;&lt;span class=&quot;hl esc&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;;&lt;/span&gt;
               &lt;span class=&quot;hl kwb&quot;&gt;$wm&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;-&amp;gt;(&lt;/span&gt;&lt;span class=&quot;hl kwb&quot;&gt;%args&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;);&lt;/span&gt;
           &lt;span class=&quot;hl opt&quot;&gt;};&lt;/span&gt;
       &lt;span class=&quot;hl opt&quot;&gt;};&lt;/span&gt;

       &lt;span class=&quot;hl kwa&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;quot;Makefile.PL&amp;quot;&lt;/span&gt; &lt;span class=&quot;hl kwc&quot;&gt;or die&lt;/span&gt; &lt;span class=&quot;hl str&quot;&gt;&amp;quot;Hack failed: $&amp;#64;&amp;quot;&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;;&lt;/span&gt;

       &lt;span class=&quot;hl slc&quot;&gt;# we can exit now that we are done&lt;/span&gt;
       &lt;span class=&quot;hl kwa&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;hl num&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;;&lt;/span&gt;
   &lt;span class=&quot;hl opt&quot;&gt;}&lt;/span&gt;

   &lt;span class=&quot;hl num&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hl opt&quot;&gt;;&lt;/span&gt;

&lt;/pre&gt;&lt;/div&gt;
   &lt;/p&gt;

&lt;p&gt;
   There are a couple changes to the function that overrides &lt;code&gt;WriteMakefile&lt;/code&gt;.
   &lt;/p&gt;

&lt;p&gt;
   First, we no longer stick &lt;code&gt;:nosearch&lt;/code&gt; in front of all flags in
   &lt;code&gt;LIBS&lt;/code&gt;. Instead, we only stick it before we set the linker search path
   to the &lt;code&gt;C:/msys64/mingw64/lib&lt;/code&gt; directory. That way if there are some
   non-system libraries that need to be compiled statically, they can still be
   compiled statically. This happens in the case of Cairo::GObject where the
   code needs to be linked against the compiled Perl code (called XS) for the
   Cairo and GObject libraries so that it can access some helper functions
   provided in those &lt;code&gt;.a&lt;/code&gt; files. The rest of the linker flags need
   to be compiled dynamically so we apply &lt;code&gt;:nosearch&lt;/code&gt; to only the
   reset.
   &lt;/p&gt;

&lt;p&gt;
   Second, we insert a special case so that we can build XML::Parser::Expat.
   Since the &lt;code&gt;LIBS&lt;/code&gt; parameter is just set to &lt;code&gt;&quot;-lexpat&quot;&lt;/code&gt;
   in that module, there is no &lt;code&gt;-LC:/msys64/mingw64/lib&lt;/code&gt; flag that
   we can use to insert &lt;code&gt;:nosearch&lt;/code&gt;. So we insert it just before to
   set &lt;code&gt;LIBS&lt;/code&gt; to &lt;code&gt;&quot;:nosearch -lexpat&quot;&lt;/code&gt; instead.
   &lt;/p&gt;

&lt;p&gt;&lt;/li&gt;&lt;/p&gt;

&lt;p&gt;&lt;li&gt;&lt;/p&gt;

&lt;p&gt;
   This all would work on a clean install of Windows with only MSYS2 installed.
   However, Appveyor is not quite that.
   &lt;/p&gt;

&lt;p&gt;
   I came across two more build errors that had nothing to do with MSYS2:
   &lt;/p&gt;

&lt;p&gt;
   First, I had tried to install Net::SSLeay module which depends on the
   &lt;code&gt;libopenssl&lt;/code&gt; library. When I tried to install it, I got errors
   about missing symbols. Everything else was linking properly, so I didn&#39;t get
   why it would not link. I added a line to show me the libraries that the
   build was using for &lt;code&gt;libopenssl&lt;/code&gt;.
   &lt;/p&gt;

&lt;p&gt;
   &lt;pre&gt;   $ cpanm --verbose --configure-args verbose Net::SSLeay
   Configuring Net-SSLeay-1.74 ... WARNING: can&#39;t open config file: /usr/local/ssl/openssl.cnf
   *** Found OpenSSL-1.0.2e installed in C:OpenSSL-Win32
   *** Be sure to use the same compiler and options to compile your OpenSSL, perl,
       and Net::SSLeay. Mixing and matching compilers is not supported.
   &lt;/pre&gt;
   &lt;/p&gt;

&lt;p&gt;&lt;p&gt;
   It&#39;s looking for the SSL library in &lt;code&gt;C:OpenSSL-Win32&lt;/code&gt;. That&#39;s
   not a MinGW64 path! I looked around in the Net::SSLeay code and saw that there was
   &lt;code&gt;&lt;a href=&quot;https://metacpan.org/source/MIKEM/Net-SSLeay-1.74/README.Win32&quot;&gt;README.Win32&lt;/a&gt;&lt;/code&gt;
   file which says&lt;/p&gt;

&lt;blockquote&gt;
   2. If your OpenSSL is installed in an unusual place, you can tell
   Net-SSLeay where to find it with the OPENSSL_PREFIX environment
   variable:
   set OPENSSL_PREFIX=c:OpenSSL-1.0.1c
   perl Makefile.PL
   make
   .....
   &lt;/blockquote&gt;

&lt;p&gt;
   In our case, we can use
   &lt;/p&gt;

&lt;p&gt;
   &lt;div class=&quot;highlight-sh&quot;&gt;&lt;pre class=&quot;hl&quot;&gt;   &lt;span class=&quot;hl kwb&quot;&gt;export&lt;/span&gt; OPENSSL_PREFIX&lt;span class=&quot;hl opt&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;hl str&quot;&gt;&amp;quot;/c/msys64/mingw64&amp;quot;&lt;/span&gt;

&lt;/pre&gt;&lt;/div&gt;
   &lt;/p&gt;

&lt;p&gt;
   and Net::SSLeay builds properly.
   &lt;/p&gt;

&lt;p&gt;&lt;/li&gt;&lt;/p&gt;

&lt;p&gt;&lt;li&gt;&lt;/p&gt;

&lt;p&gt;
   Another issue that I hit was when I tried to install the
   &lt;code&gt;Alien::MuPDF&lt;/code&gt; dependency. This is a module that I wrote that
   downloads and builds the MuPDF library. I was getting a very odd error from
   the linker in this case:
   &lt;/p&gt;

&lt;p&gt;
   &lt;pre&gt;   $ cpanm --verbose Alien::MuPDF
   # [ remove extra build output ]
       CC build/release/platform/x11/pdfapp.o
   windres platform/x11/win_res.rc build/release/platform/x11/win_res.o
       LINK build/release/mupdf
   build/release/platform/x11/win_main.o:win_main.c:(.text+0x2d79): undefined reference to `fz_argv_from_wargv&#39;
   build/release/platform/x11/win_main.o:win_main.c:(.text+0x2d79): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `fz_argv_from_wargv&#39;
   build/release/platform/x11/win_main.o:win_main.c:(.text+0x3174): undefined reference to `fz_free_argv&#39;
   build/release/platform/x11/win_main.o:win_main.c:(.text+0x3174): relocation truncated to fit: R_X86_64_PC32 against undefined symbol `fz_free_argv&#39;
   collect2: error: ld returned 1 exit status
   Makefile:303: recipe for target &#39;build/release/mupdf&#39; failed
   make: *** [build/release/mupdf] Error 1
   External command (make HAVE_GLFW=no) failed! Error: 512
    at ./Build line 58.
   Failed
   Build not completed at ./Build line 58.
   ! Installing Alien::MuPDF failed. See C:\msys64\home\appveyor\.cpanm\work\1462215039.2780\build.log for details. Retry with --force to force install it.
   Searching Modern::Perl (0) on cpanmetadb ...
   FAIL
   &lt;/pre&gt;
   &lt;/p&gt;

&lt;p&gt;
   The &lt;code&gt;fz_&lt;/code&gt; prefix is used for functions in the MuPDF library (also
   known as &lt;code&gt;libfitz&lt;/code&gt;).  This time there are undefined references to
   files within the same project! Very curious!
   &lt;/p&gt;

&lt;p&gt;
   Since I was already suspicious that I could not trust the Appveyor
   environment, I guessed that this might have to do with differences between
   the compiler and the linker used.
   &lt;/p&gt;

&lt;p&gt;
   To debug this, I tried to build the MuPDF library locally and noticed that
   the C compiler used is &lt;code&gt;cc&lt;/code&gt;. On properly set up systems,
   &lt;code&gt;cc&lt;/code&gt; is usually an alias for a specific C compiler such as
   &lt;code&gt;gcc&lt;/code&gt;. To check this, I ran the following on Appveyor:
   &lt;/p&gt;

&lt;p&gt;
   &lt;pre&gt;   # Information about the toolchain
   $ which -a cc; cc -v
   /usr/bin/cc
   /bin/cc
   /usr/bin/cc
   Using built-in specs.
   COLLECT_GCC=cc
   COLLECT_LTO_WRAPPER=/usr/lib/gcc/x86_64-pc-msys/4.9.2/lto-wrapper.exe
   Target: x86_64-pc-msys
   Configured with: /msys_scripts/gcc/src/gcc-4.9.2/configure --build=x86_64-pc-msys --prefix=/usr --libexecdir=/usr/lib --enable-bootstrap --enable-shared --enable-shared-libgcc --enable-static --enable-version-specific-runtime-libs --with-arch=x86-64 --disable-multilib --with-tune=generic --enable-__cxa_atexit --with-dwarf2 --enable-languages=c,c++,fortran,lto --enable-graphite --enable-threads=posix --enable-libatomic --enable-libgomp --disable-libitm --enable-libquadmath --enable-libquadmath-support --enable-libssp --disable-win32-registry --disable-symvers --with-gnu-ld --with-gnu-as --disable-isl-version-check --enable-checking=release --without-libiconv-prefix --without-libintl-prefix --with-system-zlib
   Thread model: posix
   gcc version 4.9.2 (GCC)

   $ which -a gcc; gcc -v
   /mingw64/bin/gcc
   /usr/bin/gcc
   /bin/gcc
   /MINGW64/bin/gcc
   /usr/bin/gcc
   Using built-in specs.
   COLLECT_GCC=C:\msys64\mingw64\bin\gcc.exe
   COLLECT_LTO_WRAPPER=C:/msys64/mingw64/bin/../lib/gcc/x86_64-w64-mingw32/5.3.0/lto-wrapper.exe
   Target: x86_64-w64-mingw32
   Configured with: ../gcc-5.3.0/configure --prefix=/mingw64 --with-local-prefix=/mingw64/local --build=x86_64-w64-mingw32 --host=x86_64-w64-mingw32 --target=x86_64-w64-mingw32 --with-native-system-header-dir=/mingw64/x86_64-w64-mingw32/include --libexecdir=/mingw64/lib --with-gxx-include-dir=/mingw64/include/c++/5.3.0 --enable-bootstrap --with-arch=x86-64 --with-tune=generic --enable-languages=c,lto,c++,objc,obj-c++,fortran,ada --enable-shared --enable-static --enable-libatomic --enable-threads=posix --enable-graphite --enable-fully-dynamic-string --enable-libstdcxx-time=yes --disable-libstdcxx-pch --disable-libstdcxx-debug --enable-version-specific-runtime-libs --disable-isl-version-check --enable-lto --enable-libgomp --disable-multilib --enable-checking=release --disable-rpath --disable-win32-registry --disable-nls --disable-werror --disable-symvers --with-libiconv --with-system-zlib --with-gmp=/mingw64 --with-mpfr=/mingw64 --with-mpc=/mingw64 --with-isl=/mingw64 --with-pkgversion=&#39;Rev1, Built by MSYS2 project&#39; --with-bugurl=http://sourceforge.net/projects/msys2 --with-gnu-as --with-gnu-ld
   Thread model: posix
   gcc version 5.3.0 (Rev1, Built by MSYS2 project)

   $ which -a ld; ld -V
   /mingw64/bin/ld
   /usr/bin/ld
   /bin/ld
   /MINGW64/bin/ld
   /usr/bin/ld
   GNU ld (GNU Binutils) 2.25.1
     Supported emulations:
      i386pep
      i386pe
   &lt;/pre&gt;
   &lt;/p&gt;

&lt;p&gt;
   Here we see that both &lt;code&gt;ld&lt;/code&gt; and &lt;code&gt;gcc&lt;/code&gt; are found under
   the &lt;code&gt;/mingw64/bin&lt;/code&gt;, but &lt;code&gt;cc&lt;/code&gt; is found elsewhere and is
   a different version altogether. The fix for this is simple, just copy
   &lt;code&gt;gcc&lt;/code&gt; to &lt;code&gt;cc&lt;/code&gt;
   &lt;/p&gt;

&lt;p&gt;
   &lt;div class=&quot;highlight-sh&quot;&gt;&lt;pre class=&quot;hl&quot;&gt;   &lt;span class=&quot;hl kwc&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;hl kwb&quot;&gt;-pv&lt;/span&gt; &lt;span class=&quot;hl opt&quot;&gt;/&lt;/span&gt;mingw64&lt;span class=&quot;hl opt&quot;&gt;/&lt;/span&gt;bin&lt;span class=&quot;hl opt&quot;&gt;/&lt;/span&gt;gcc &lt;span class=&quot;hl opt&quot;&gt;/&lt;/span&gt;mingw64&lt;span class=&quot;hl opt&quot;&gt;/&lt;/span&gt;bin&lt;span class=&quot;hl opt&quot;&gt;/&lt;/span&gt;cc

&lt;/pre&gt;&lt;/div&gt;
   &lt;/p&gt;

&lt;p&gt;
   and then Alien::MuPDF compiles properly.
   &lt;/p&gt;

&lt;p&gt;&lt;/li&gt;&lt;/p&gt;

&lt;p&gt;&lt;li&gt;&lt;/p&gt;

&lt;p&gt;
  &lt;strike&gt;Write a post documenting your travails.&lt;/strike&gt;
  Happily use Appveyor to test all your code on Windows.
  &lt;/p&gt;

&lt;p&gt;&lt;/li&gt;&lt;/p&gt;

&lt;p&gt;&lt;/ol&gt;&lt;/p&gt;

&lt;p&gt;The full pull request for this Appveyor configuration is available
&lt;a href=&quot;https://github.com/project-renard/curie/pull/86&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr /&gt;
&lt;ol&gt;

&lt;li id=&quot;fn:portability&quot;&gt;&lt;p&gt;Portability is important to writing robust software and
eventually curie will have an installer of Windows, so it is best to address
any issues early through continuous integration.&lt;a href=&quot;http://project-renard.github.io//doc/development/meeting-log/#fnref:portability&quot; class=&quot;reversefootnote&quot;&gt;&amp;#160;&amp;#8617;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;

&lt;/ol&gt;
&lt;/div&gt;

	</content>



</entry>
<entry>
	<title>week of 2016-04-02</title>

	<id>http://project-renard.github.io//doc/development/meeting-log/posts/2016/04/02/week-of-2016-04-02/</id>

	<link href="http://project-renard.github.io//doc/development/meeting-log/posts/2016/04/02/week-of-2016-04-02/"/>





	<updated>2017-05-02T19:41:09Z</updated>
	<published>2016-04-02T16:47:49Z</published>


	<content type="html" xml:lang="en">
	&lt;h2 id=&quot;chirag&quot;&gt;Chirag&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Work on the Vagrant setup: choose a better base box
&lt;a href=&quot;https://github.com/project-renard/devops/issues/4&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/devops/issues/4&quot; src=&quot;https://github-shields.com/github/project-renard/devops/issues/4.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Refactor tests
&lt;a href=&quot;https://github.com/project-renard/curie/issues/58&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/58&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/58.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Add the final tests for the keybinding PR
&lt;a href=&quot;https://github.com/project-renard/curie/pull/52&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/52&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/52.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(how to to simulate key press events: &lt;a href=&quot;https://github.com/project-renard/curie/issues/64&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/64&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/64.svg&quot;/&gt;
&lt;/a&gt;
)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;zaki&quot;&gt;Zaki&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Embed AbiWord
&lt;a href=&quot;https://github.com/project-renard/curie/issues/57&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/57&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/57.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Embed Evince
&lt;a href=&quot;https://github.com/project-renard/curie/issues/56&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/56&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/56.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

	</content>



</entry>
<entry>
	<title>week of 2016-03-27</title>

	<id>http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/27/week-of-2016-03-27/</id>

	<link href="http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/27/week-of-2016-03-27/"/>





	<updated>2017-05-02T19:41:09Z</updated>
	<published>2016-03-27T18:16:04Z</published>


	<content type="html" xml:lang="en">
	&lt;p&gt;&lt;a href=&quot;https://github.com/project-renard/curie/issues/40&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/40&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/40.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/project-renard/curie/pull/53&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/53&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/53.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/project-renard/curie/issues/31&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/31&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/31.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/project-renard/curie/pull/52&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/52&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/52.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/project-renard/devops/issues/2&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/devops/issues/2&quot; src=&quot;https://github-shields.com/github/project-renard/devops/issues/2.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/project-renard/devops/pull/3&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/devops/pull/3&quot; src=&quot;https://github-shields.com/github/project-renard/devops/pull/3.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/project-renard/curie/issues/27&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/27&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/27.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/project-renard/project-renard.github.io/issues/5&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/project-renard.github.io/issues/5&quot; src=&quot;https://github-shields.com/github/project-renard/project-renard.github.io/issues/5.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

	</content>



</entry>
<entry>
	<title>improving the GUI navigation and tests</title>

	<id>http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/19/improving-gui-navigation-and-tests/</id>

	<link href="http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/19/improving-gui-navigation-and-tests/"/>





	<updated>2017-05-02T19:30:57Z</updated>
	<published>2016-03-19T20:29:28Z</published>


	<content type="html" xml:lang="en">
	&lt;h2 id=&quot;tasks&quot;&gt;Tasks&lt;/h2&gt;

&lt;h3 id=&quot;zaki&quot;&gt;Zaki&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Create a table of Evince and Okular menus on the wiki&lt;/li&gt;
&lt;li&gt;Write GUI tests using mock document and xvfb &lt;a href=&quot;https://github.com/project-renard/curie/issues/35&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/35&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/35.svg&quot;/&gt;
&lt;/a&gt;
(PR at &lt;a href=&quot;https://github.com/project-renard/curie/pull/41&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/41&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/41.svg&quot;/&gt;
&lt;/a&gt;
)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;stan&quot;&gt;Stan&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Show number of pages &lt;a href=&quot;https://github.com/project-renard/curie/issues/21&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/21&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/21.svg&quot;/&gt;
&lt;/a&gt;
(PR at &lt;a href=&quot;https://github.com/project-renard/curie/pull/43&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/43&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/43.svg&quot;/&gt;
&lt;/a&gt;
).&lt;/li&gt;
&lt;/ul&gt;

&lt;table class=&quot;img&quot;&gt;&lt;caption&gt;GUI showing the label with the number of pages in a PDF document&lt;/caption&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/19/gfx/number-of-pages-label.png&quot;&gt;&lt;img src=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/19/improving-gui-navigation-and-tests/250x-number-of-pages-label.png&quot; width=&quot;250&quot; height=&quot;196&quot; class=&quot;img&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;p&gt;and the corresponding unit tests (issue: &lt;a href=&quot;https://github.com/project-renard/curie/issues/45&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/45&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/45.svg&quot;/&gt;
&lt;/a&gt;
, PR: &lt;a href=&quot;https://github.com/project-renard/curie/pull/51&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/51&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/51.svg&quot;/&gt;
&lt;/a&gt;
)&lt;/p&gt;

&lt;h3 id=&quot;chirag&quot;&gt;Chirag&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Deactivate navigation buttons at start and end of document &lt;a href=&quot;https://github.com/project-renard/curie/issues/22&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/22&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/22.svg&quot;/&gt;
&lt;/a&gt;
(PR at &lt;a href=&quot;https://github.com/project-renard/curie/pull/37&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/37&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/37.svg&quot;/&gt;
&lt;/a&gt;
).&lt;/li&gt;
&lt;/ul&gt;

&lt;table class=&quot;img&quot;&gt;&lt;caption&gt;Disable navigation buttons on first page&lt;/caption&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/19/gfx/curie-disable-first.png&quot;&gt;&lt;img src=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/19/improving-gui-navigation-and-tests/250x-curie-disable-first.png&quot; width=&quot;250&quot; height=&quot;197&quot; class=&quot;img&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;table class=&quot;img&quot;&gt;&lt;caption&gt;Disable navigation buttons on last page&lt;/caption&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/19/gfx/curie-disable-last.png&quot;&gt;&lt;img src=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/19/improving-gui-navigation-and-tests/250x-curie-disable-last.png&quot; width=&quot;250&quot; height=&quot;197&quot; class=&quot;img&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;h3 id=&quot;zaki&quot;&gt;Zaki&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Refactor Chirag&#39;s pull request (issue at &lt;a href=&quot;https://github.com/project-renard/curie/issues/38&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/38&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/38.svg&quot;/&gt;
&lt;/a&gt;
and PR at &lt;a href=&quot;https://github.com/project-renard/curie/pull/39&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/39&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/39.svg&quot;/&gt;
&lt;/a&gt;
).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Check for errors using Perl::Critic and Test::Spelling. This can be used to check for irregular whitespace and spelling errors among other things
(issue at &lt;a href=&quot;https://github.com/project-renard/curie/issues/46&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/46&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/46.svg&quot;/&gt;
&lt;/a&gt;
and PR at &lt;a href=&quot;https://github.com/project-renard/curie/pull/47&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/47&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/47.svg&quot;/&gt;
&lt;/a&gt;
)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;table class=&quot;img&quot;&gt;&lt;caption&gt;Travis-CI: Shows whitespace and code stricture failures&lt;/caption&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/19/gfx/curie-perl-critic-fail-1.png&quot;&gt;&lt;img src=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/19/improving-gui-navigation-and-tests/250x-curie-perl-critic-fail-1.png&quot; width=&quot;250&quot; height=&quot;34&quot; class=&quot;img&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;table class=&quot;img&quot;&gt;&lt;caption&gt;Travis-CI: Fix the stricture failures, but whitespace failures remain&lt;/caption&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/19/gfx/curie-perl-critic-fail-2.png&quot;&gt;&lt;img src=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/19/improving-gui-navigation-and-tests/250x-curie-perl-critic-fail-2.png&quot; width=&quot;246&quot; height=&quot;27&quot; class=&quot;img&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;table class=&quot;img&quot;&gt;&lt;caption&gt;Travis-CI: Shows documentation spelling failure&lt;/caption&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/19/gfx/curie-perl-critic-fail-3.png&quot;&gt;&lt;img src=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/19/improving-gui-navigation-and-tests/250x-curie-perl-critic-fail-3.png&quot; width=&quot;250&quot; height=&quot;64&quot; class=&quot;img&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;table class=&quot;img&quot;&gt;&lt;caption&gt;Travis-CI: Shows all tests (Perl::Critic and POD spelling) now passing&lt;/caption&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/19/gfx/curie-perl-critic-success-4.png&quot;&gt;&lt;img src=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/19/improving-gui-navigation-and-tests/250x-curie-perl-critic-success-4.png&quot; width=&quot;248&quot; height=&quot;40&quot; class=&quot;img&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;ul&gt;
&lt;li&gt;Add a compatibility layer for GtkScrolledWindow when using a Gtk+ version less v3.8
(issue at &lt;a href=&quot;https://github.com/project-renard/curie/issues/42&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/42&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/42.svg&quot;/&gt;
&lt;/a&gt;
and PR at &lt;a href=&quot;https://github.com/project-renard/curie/pull/48&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/48&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/48.svg&quot;/&gt;
&lt;/a&gt;
)&lt;/li&gt;
&lt;/ul&gt;

	</content>



</entry>
<entry>
	<title>testing and planning features</title>

	<id>http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/12/testing-and-planning-features/</id>

	<link href="http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/12/testing-and-planning-features/"/>





	<updated>2017-05-02T19:41:09Z</updated>
	<published>2016-03-12T01:12:49Z</published>


	<content type="html" xml:lang="en">
	&lt;p&gt;We need to start testing the code and automatically running those tests using
continuous integration.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Added &lt;a href=&quot;https://github.com/project-renard/test-data&quot;&gt;test data repository&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Start adding unit tests in PR &lt;a href=&quot;https://github.com/project-renard/curie/pull/33&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/33&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/33.svg&quot;/&gt;
&lt;/a&gt;
to address
issue &lt;a href=&quot;https://github.com/project-renard/curie/issues/28&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/28&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/28.svg&quot;/&gt;
&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Looked at a review of PDF metadata extraction &lt;a href=&quot;https://docs.google.com/document/d/1bmVV89ZozeYsboSTTebKXv3u2vUDAmY3rG2tr5IIl0I/preview&quot;&gt;doc&lt;/a&gt; (mirrored &lt;a href=&quot;https://docs.google.com/document/d/1REI6cZParcQYRBDac6GRgsrjcdRKvloOi26sELZEG0U/preview&quot;&gt;here&lt;/a&gt;) from this &lt;a href=&quot;http://connectedworks.blogspot.com/2010/09/full-review-of-publication-metadata.html&quot;&gt;blog&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Adding Travis-CI support:
    - Go to https://travis-ci.org/, select the + sign, click on project-renard https://travis-ci.org/profile/project-renard&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Zaki: need to add gir1.2-gdl-3 package for docking UIs to Travis-CI package whitelist
(issues are at &lt;a href=&quot;https://github.com/project-renard/curie/issues/34&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/34&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/34.svg&quot;/&gt;
&lt;/a&gt;
, &lt;a href=&quot;https://github.com/travis-ci/apt-package-whitelist/issues/2700&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;travis-ci/apt-package-whitelist/issues/2700&quot; src=&quot;https://github-shields.com/github/travis-ci/apt-package-whitelist/issues/2700.svg&quot;/&gt;
&lt;/a&gt;
, &lt;a href=&quot;https://github.com/travis-ci/apt-package-whitelist/issues/2702&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;travis-ci/apt-package-whitelist/issues/2702&quot; src=&quot;https://github-shields.com/github/travis-ci/apt-package-whitelist/issues/2702.svg&quot;/&gt;
&lt;/a&gt;
).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Issues carried over from &lt;a href=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/06/refactoring-recent-gui-additions/&quot;&gt;last week&lt;/a&gt;:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Stan: Show number of pages
&lt;a href=&quot;https://github.com/project-renard/curie/issues/21&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/21&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/21.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Chirag: Deactivate navigation buttons at start and end of document &lt;a href=&quot;https://github.com/project-renard/curie/issues/22&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/22&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/22.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

	</content>



</entry>
<entry>
	<title>refactoring recent GUI additions</title>

	<id>http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/06/refactoring-recent-gui-additions/</id>

	<link href="http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/06/refactoring-recent-gui-additions/"/>





	<updated>2016-03-10T20:34:28Z</updated>
	<published>2016-03-06T21:30:50Z</published>


	<content type="html" xml:lang="en">
	&lt;p&gt;The pull requests from the previous meeting were discussed and merged. Since
all of the work was performed on a single file, it is now necessary to start
splitting off the code into different modules so that it is easier to work
with.&lt;/p&gt;

&lt;p&gt;Zaki: PR to refactor the script &lt;a href=&quot;https://github.com/project-renard/curie/pull/24&quot;&gt;
  &lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/24&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/24.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;table class=&quot;img&quot;&gt;&lt;caption&gt;curie GUI with page number entry box and scrollbar&lt;/caption&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/06/gfx/simple-gui-with-page-num-and-scrollbar.png&quot;&gt;&lt;img src=&quot;http://project-renard.github.io//doc/development/meeting-log/posts/2016/03/06/refactoring-recent-gui-additions/250x-simple-gui-with-page-num-and-scrollbar.png&quot; width=&quot;249&quot; height=&quot;217&quot; class=&quot;img&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Stan: Show number of pages
&lt;a href=&quot;https://github.com/project-renard/curie/issues/21&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/21&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/21.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Chirag: Deactivate navigation buttons at start and end of document &lt;a href=&quot;https://github.com/project-renard/curie/issues/22&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/22&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/22.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Zaki: Work with PNG data in-memory: PR to create Cairo::ImageSurface in-memory &lt;a href=&quot;https://github.com/project-renard/curie/pull/30&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/pull/30&quot; src=&quot;https://github-shields.com/github/project-renard/curie/pull/30.svg&quot;/&gt;
&lt;/a&gt;
which addresses issue &lt;a href=&quot;https://github.com/project-renard/curie/issues/25&quot;&gt;
&lt;img class=&quot;github-shield&quot; style=&quot;vertical-align: middle;&quot; alt=&quot;project-renard/curie/issues/25&quot; src=&quot;https://github-shields.com/github/project-renard/curie/issues/25.svg&quot;/&gt;
&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

	</content>



</entry>

</feed>
